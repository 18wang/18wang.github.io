{"meta":{"title":"18wang","subtitle":"","description":"","author":"Wang Xy","url":"https://github.com/18wang","root":"/"},"pages":[],"posts":[{"title":"Pythonæ¨¡æ‹Ÿç‚¹äº‘ç”Ÿæˆ","slug":"Pythonæ¨¡æ‹Ÿç‚¹äº‘ç”Ÿæˆ","date":"2020-08-24T09:46:52.830Z","updated":"2020-08-24T09:58:45.321Z","comments":true,"path":"2020/08/24/Pythonæ¨¡æ‹Ÿç‚¹äº‘ç”Ÿæˆ/","link":"","permalink":"https://github.com/18wang/2020/08/24/Python%E6%A8%A1%E6%8B%9F%E7%82%B9%E4%BA%91%E7%94%9F%E6%88%90/","excerpt":"","text":"æ¨¡æ‹Ÿç‚¹äº‘ç”Ÿæˆ ç”¨pythonç”Ÿæˆç‚¹äº‘, åŠ å…¥ä¸€ç‚¹å™ªå£°, åŒ…æ‹¬å¹³é¢, ç›´çº¿å’Œåœ†æŸ±é¢çš„ç‚¹äº‘ æ¯”è¾ƒå®¹æ˜“, numpy ç”Ÿæˆç‚¹, åˆ—æ–¹ç¨‹, ç”»å›¾, ä¿å­˜(ç‚¹äº‘çš„ä¿å­˜è¦æ³¨æ„ä¸€ç‚¹æŠ€å·§) 123456789101112131415161718192021222324252627282930313233343536373839# çº¿ç‚¹äº‘ \"\"\"ç”»ä¸€ä¸ªä»»æ„çº¿æ®µç‚¹äº‘, åŠ å™ª å™ªå£°åœ¨noiseä¸­å¯ä»¥è°ƒèŠ‚ - é‡‡æ ·æ­¥è· - ç‚¹äº‘å‚æ•° t èŒƒå›´ - ç›´çº¿æ–¹ç¨‹ X = X0+kx*t, Y = Y0+ky*t, Z = Z0+kz*t - å™ªå£°å¤§å° æˆ– å™ªå£°ç±»å‹\"\"\"step = 0.1 # æ­¥è·tlim = [-4, 10] # å‚æ•° t èŒƒå›´X0, Y0, Z0 = 0, 0, 0 # å‚æ•°å¼æ–¹ç¨‹ç³»æ•°kx, ky, kz = 1, 1, 1from matplotlib import pyplot as pltimport numpy as npfrom mpl_toolkits.mplot3d import Axes3Dt = np.arange(tlim[0], tlim[1], step) # ç”Ÿæˆç‚¹äº‘ t åæ ‡ åˆ—X = X0 + kx * tY = Y0 + ky * tZ = Z0 + kz * t noise = (np.random.rand(t.shape[0])-0.5) * 0.1 # åŠ å™ª [-0.5, 0.5) å™ªå£°Zn = Z + noise# å­˜å‚¨æ•°æ®ç‚¹PC = np.dstack((X, Y, Zn))PCs = PC.reshape((t.shape[0],-1))np.savetxt(\"E:/LinePC.txt\", PCs, delimiter=',', fmt=\"%f\") # ç”»å›¾fig = plt.figure() ax = Axes3D(fig)ax.scatter(X, Y, Zn, c='r') # ç»˜åˆ¶æ•°æ®ç‚¹ax.set_zlabel('Z') # åæ ‡è½´ax.set_ylabel('Y')ax.set_xlabel('X')plt.show() 12345678910111213141516171819202122232425262728293031323334353637383940# å¹³é¢ç‚¹äº‘ \"\"\"ç”»ä¸€ä¸ªä»»æ„å¹³é¢ç‚¹äº‘, åŠ å™ª å™ªå£°åœ¨noiseä¸­å¯ä»¥è°ƒèŠ‚ - X, Yæ­¥è· - ç‚¹äº‘ X, Y èŒƒå›´ - å¹³é¢æ–¹ç¨‹ Z = f(X, Y) - å™ªå£°å¤§å° æˆ– å™ªå£°ç±»å‹\"\"\"step = 0.25 # æ­¥è·xlim = [-4, 10] # åæ ‡èŒƒå›´ylim = [-4, 10]from matplotlib import pyplot as pltimport numpy as npfrom mpl_toolkits.mplot3d import Axes3DX = np.arange(xlim[0], xlim[1], step) # ç”Ÿæˆç‚¹äº‘ xåæ ‡ åˆ—Y = np.arange(ylim[0], ylim[1], step)X, Y = np.meshgrid(X, Y) # ç”Ÿæˆç½‘æ ¼Z = X+Y # np.zeros_like(X)x, y = Z.shape # åŠ å™ª [-0.5, 0.5) å™ªå£°noise = (np.random.rand(x, y)-0.5) * 0.1 Zn = Z + noise# å­˜å‚¨æ•°æ®ç‚¹PC = np.dstack((X, Y, Zn))PCs = PC.reshape((x*y,-1))np.savetxt(\"E:/PlanePC.txt\", PCs, delimiter=',', fmt=\"%f\")# ç”»å›¾fig = plt.figure() ax = Axes3D(fig)# å…·ä½“å‡½æ•°æ–¹æ³•å¯ç”¨ help(function) æŸ¥çœ‹ï¼Œå¦‚ï¼šhelp(ax.plot_surface)ax.plot_surface(X, Y, Zn, rstride=1, cstride=1, cmap='rainbow')ax.set_zlabel('Z') # åæ ‡è½´ax.set_ylabel('Y')ax.set_xlabel('X')plt.show() 123456789101112131415161718192021222324252627282930313233343536373839404142434445# åœ†æŸ±ä¾§é¢ç‚¹äº‘ \"\"\"ç”»ä¸€ä¸ªæ¤­åœ†æŸ±ä¾§é¢ç‚¹äº‘, ä»¥ zè½´ ä¸ºè½´å¿ƒ, å‘æ­£è´Ÿæ–¹å‘å»¶ç”³åŠ å™ª å™ªå£°åœ¨noiseX, noiseYä¸­å¯ä»¥è°ƒèŠ‚ - xoy æˆªé¢çš„é‡‡æ ·è§’åº¦æ­¥è· 0~2Ï€, z è½´æ–¹å‘çš„é‡‡æ ·æ­¥è· - ç‚¹äº‘ zè½´ èŒƒå›´ - æ¤­åœ†æ­£æˆªé¢é•¿çŸ­è½´ (x/a)^2 + (y/b)^2 = 1 - å™ªå£°å¤§å° æˆ– å™ªå£°ç±»å‹\"\"\"stepz = 0.2 # zè½´æ–¹å‘æ­¥è· stepA = 0.1 # xoyå¹³é¢è§’åº¦æ­¥è·zlim = [-4, 1] # zåæ ‡èŒƒå›´a, b = 1, 1 # é•¿è½´çŸ­è½´from matplotlib import pyplot as pltimport numpy as npfrom mpl_toolkits.mplot3d import Axes3DX = a * np.cos(np.arange(0,2*np.pi,stepA)) # ç”Ÿæˆåæ ‡Y = b * np.sin(np.arange(0,2*np.pi,stepA))Z = np.arange(zlim[0], zlim[1], stepz)X, _ = np.meshgrid(X, Z) Y, Z = np.meshgrid(Y, Z) shape0, shape1 = X.shape[0], X.shape[1]noiseX = (np.random.rand(shape0, shape1)-0.5) * 0.05 # åŠ å™ª [-0.25, 0.25) å™ªå£°noiseY = (np.random.rand(shape0, shape1)-0.5) * 0.05 # X Y å‡åŠ å™ªXn = X + noiseXYn = Y + noiseY# å­˜å‚¨æ•°æ®ç‚¹PC = np.dstack((Xn, Yn, Z))PCs = PC.reshape((shape0*shape1,-1))np.savetxt(\"E:/CylinderPC.txt\", PCs, delimiter=',', fmt=\"%f\")# ç”»å›¾fig = plt.figure() ax = Axes3D(fig)# å…·ä½“å‡½æ•°æ–¹æ³•å¯ç”¨ help(function) æŸ¥çœ‹ï¼Œå¦‚ï¼šhelp(ax.plot_surface)ax.plot_surface(Xn, Yn, Z, rstride=1, cstride=1, cmap='rainbow')ax.set_zlabel('Z') # åæ ‡è½´ax.set_ylabel('Y')ax.set_xlabel('X')plt.show() æ³¨æ„åˆ°åœ†æŸ±é¢æœ‰ä¸€ä¸ªè±å£, å› ä¸ºæœ€åä¸€ä¸ªç‚¹å’Œèµ·å§‹ç‚¹æ²¡æœ‰é¦–å°¾ç›¸è¿, ä½†ç”¨äºPolyworkså¹¶æ— è¿›ä¸€æ­¥å¤„ç†çš„éœ€è¦, ç¤ºæ„å³å¯ ä¿å­˜çš„ç‚¹äº‘æ•°æ®å¦‚ä¸‹å›¾æ‰€ç¤º","categories":[],"tags":[]},{"title":"kalman_filter","slug":"kalman_filter","date":"2020-08-19T08:47:14.117Z","updated":"2020-09-12T11:21:02.775Z","comments":true,"path":"2020/08/19/kalman_filter/","link":"","permalink":"https://github.com/18wang/2020/08/19/kalman_filter/","excerpt":"","text":"å¡å°”æ›¼æ»¤æ³¢ åº”ç”¨ æ¿€å…‰é›·è¾¾æµ‹è·çš„æ•°å€¼ç»å¸¸å‘ç”Ÿè·³å˜, æ˜¾ç¤ºåœ¨è½¯ä»¶é‡Œçš„å€¼æ³¢åŠ¨æœ‰ç‚¹å¤§. ç”¨ matlab å¯¹å…¶è¿›è¡Œæ»¤æ³¢, å®ç°æ›´å¥½çš„æ˜¾ç¤ºæ•ˆæœ, æé«˜æµ‹é‡ç²¾åº¦. å‰æƒ…æè¦ æ¿€å…‰é›·è¾¾çš„é‡‡æ ·ç‡æ˜¯ 1kHz, 1s é‡‡ 1000 ä¸ªæ•°æ®ç‚¹ ç›®å‰çš„æ–¹æ³•æ˜¯, å¯¹æ¯1000ä¸ªç‚¹æ’åº, å»æ‰æœ€å¤§æœ€å°å„100ä¸ªç‚¹, å–å‡å€¼, æ•ˆæœä¸å¤Ÿå¥½ æ‹Ÿé‡‡ç”¨ä¸€ç§æ»¤æ³¢çš„æ–¹æ³•, æˆ–è€…å…¶ä»–ä»»ä½•ç®€å•æ–¹ä¾¿çš„ç®—æ³•, å¾—åˆ°ç¨³å®šçš„æµ‹è·å€¼ å½“å‰åªè¦å¤„ç†å®æµ‹è·ç¦»ä¸å˜, æµ‹é‡å€¼çš„è·³å˜çš„é—®é¢˜; è‹¥é‡å®é™…è·ç¦»å˜åŒ–, å¯èƒ½éœ€è¦å…¶ä»–ç®—æ³• æ•°æ®æ–‡ä»¶ å­˜å‚¨è¯»æ•°çš„csvæ–‡ä»¶ç»“æ„å¦‚ å›¾1 æ‰€ç¤º å¡å°”æ›¼æ»¤æ³¢å™¨ å®ç”¨å‚è€ƒ: å¡å°”æ›¼æ»¤æ³¢ https://zhuanlan.zhihu.com/p/39912633 Matlabå®ç° https://blog.csdn.net/zengxiantao1994/article/details/71170728 è¿™é‡Œé¢å°±ä¸å†èµ˜è¿°äº†, çŸ¥è¯†ç‚¹å¿˜è®°äº†å°±å›é¡¾ä¸€ä¸‹ æ€»ä¹‹, å¡å°”æ›¼æ»¤æ³¢åœ¨è¾“å‡ºé¢„æµ‹, ä¿¡å·æ»¤æ³¢æ–¹é¢æœ‰ç€å¹¿æ³›çš„åº”ç”¨, è€Œä¸”ç®€å•æ€§èƒ½ä¸é”™. è¿˜å¯ä»¥æ·±å…¥å­¦ä¹ çš„åœ°æ–¹å°±æ˜¯, å¯¹å‚æ•°çš„ç‰©ç†æ„ä¹‰è¿›ä¸€æ­¥æ·±å…¥ç†è§£, ä¾¿äºè°ƒè§£åº”ç”¨ ç¨‹åºå®ç° Matlab å®ç° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283%% å¡å°”æ›¼æ»¤æ³¢% å®ç”¨å‚è€ƒ: å¡å°”æ›¼æ»¤æ³¢ https://zhuanlan.zhihu.com/p/39912633% Matlabå®ç° https://blog.csdn.net/zengxiantao1994/article/details/71170728filename = [\"2020-4-18-1320.csv\", \"2020-4-18-1324.csv\" , \"2020-4-18-1339.csv\"]; address = 'E:\\Temp\\testdata\\'; % åœ°å€pL = 1000; % 1khzé‡‡æ · sz = [2, 1]; % ä¿å­˜ k-1ä¼°è®¡å€¼ å’Œ kæ—¶åˆ»ä¼°è®¡å€¼ å³å¯Q = 1e-10; % è¿‡ç¨‹æ–¹å·®ï¼Œåæ˜ è¿ç»­ä¸¤ä¸ªé‡‡æ ·ç‚¹å€¼çš„æ–¹å·® Qâ†‘ ç¨³å®šæ€§â†“ ç¤ºæ•°å˜åŒ–é€Ÿç‡â†‘R = 1e0; % æµ‹é‡æ–¹å·®ï¼Œåæ˜ æ¿€å…‰å™¨çš„æµ‹é‡ç²¾åº¦ Râ†‘ ç¨³å®šæ€§â†‘ ç¤ºæ•°å˜åŒ–é€Ÿç‡â†“ % å¡å°”æ›¼æ»¤æ³¢å™¨ æˆ‘è¿™é‡Œå†™çš„æ˜¯é’ˆå¯¹çº¿æ€§ç³»ç»Ÿçš„, æ‰€ä»¥å¯¹äºè·ç¦»å˜åŒ–è¿™ç§éçº¿æ€§çš„æƒ…å†µæ¯”è¾ƒç³Ÿç³•, è¦ä¹ˆååº”æ…¢, è¦ä¹ˆæ•ˆæœå·®% æˆ‘ä»¬å¯ä»¥è®¾å®šä¸€ä¸ªé˜ˆå€¼åˆ¤æ–­, è­¬å¦‚è¯´å‰åä¸¤ç§’çš„å‡å€¼å·®è·è¶…è¿‡ T , åœç”¨æ»¤æ³¢, å·®è·å°äº T (è·ç¦»ä¸å˜) å¯ç”¨å¡å°”æ›¼æ»¤æ³¢for i = 1 % length(filename) % æ–‡ä»¶åå¾ªç¯ data = csvread(strcat(address, filename(i))); [row, col] = size(data); % æ¯ä¸ªcsvè¡Œåˆ—å¤§å° mean1s = zeros([fix(row/pL), 1]); % å‡å€¼ æ¯ 1s æ•°æ® mean1skal = zeros([fix(row/pL), 1]); % kalmanæ»¤æ³¢åå‡å€¼ %% kalmanæ•°æ®åˆå§‹åŒ– dhat = zeros(sz); % å¯¹è·ç¦»çš„åéªŒä¼°è®¡, å³åœ¨kæ—¶åˆ»ï¼Œç»“åˆå½“å‰é‡‡æ ·å€¼ä¸k-1æ—¶åˆ»å…ˆéªŒä¼°è®¡ï¼Œå¾—åˆ°ç»“æœ dhatresult = zeros([pL,1]); % å­˜å‚¨ dhat ç»“æœ P = zeros(sz); % åéªŒä¼°è®¡æ–¹å·® dhatminus = zeros(sz); % å…ˆéªŒä¼°è®¡å€¼ Pminus = zeros(sz); % å…ˆéªŒä¼°è®¡æ–¹å·® K = zeros(sz); % å¡å°”æ›¼å¢ç›Š dhat(1) = data(1,1)+0.; % æœ€åˆçš„ä¼°è®¡, è¿™é‡Œç”¨å‡å€¼ P(1) = 0.1; % æ–¹å·®åˆå€¼ for j = 1 : fix(row/pL) % 1s æ•°æ®ç‚¹è·å– d1000 = data((j-1)*pL+1:j*pL, 1); avg = mean(d1000); % å‡å€¼ mean1s(j) = avg; %% å¡å°”æ›¼æ»¤æ³¢ for k = 2 : pL dhatminus(2) = dhat(1); % æ—¶é—´æ›´æ–°, æ²¿ç”¨ä¹‹å‰çš„ä¼°è®¡å€¼ Pminus(2) = P(1) + Q; % é¢„æµ‹æ–¹å·®=å‰æ—¶åˆ»æ–¹å·®+è¿‡ç¨‹æ–¹å·® K(2) = Pminus(2) / (Pminus(2) + R); % è®¡ç®—å¡å°”æ›¼å¢ç›Š dhat(2) = dhatminus(2) + K(2) * (d1000(k) - dhatminus(2)); % æ ¡æ­£åæœ€ä¼˜ä¼°è®¡ç»“æœ P(2) = (1 - K(2)) * Pminus(2); % è®¡ç®—æœ€ä¼˜ä¼°è®¡æ–¹å·® if k == 2 dhatresult(k-1) = dhat(k-1); % å­˜å‚¨ dhat(1) end dhatresult(k) = dhat(2); P(1) = P(2); % æ›´æ–°åéªŒä¼°è®¡æ–¹å·® dhat(1) = dhat(2); % æ›´æ–°ä¸‹ 1s æœ€åˆçš„ä¼°è®¡, è¿™é‡Œç”¨ä¸Šä¸€ç§’æœ€åä¸€ä¸ªé‡‡æ ·ç‚¹ end mean1skal(j) = mean(dhatresult(1:end)); % å– æŸ ç‚¹ä»¥åçš„ % %% ç”»å›¾ æ»¤æ³¢å‰å å¯¹æ¯”ç»“æœ % figure(1); % plot((j-1)*pL+1:j*pL, dhat); % hold on; % % plot([lmax+(j-1)*pL, lmin+(j-1)*pL], [dmax,dmin], 'ro'); % % hold on; % plot((j-1)*pL+1:j*pL, d1000); % hold on; % plot([(j-1)*pL+1, j*pL], [avg, avg], 'g'); % % legend(&#123;'datacurve',strcat('extreme point \\delta:', num2str(delta), ' avg:', num2str(avg)) &#125;, 'Location', 'best'); % hold off; % % ä¿å­˜å›¾ç‰‡ % saveas(1, strcat(address, 'figure\\kalman', filename(i), '-',num2str(j), '.jpg')); % close; end figure(i); plot(mean1skal(1:end), '-o'); hold on; title('kalman vs ordinary data mean'); xlabel('s'); ylabel('value'); plot(mean1s(1:end), '--^'); hold off; end ç»“æœå±•ç¤º å–äº†å‰10sçš„ä¿¡å·, çº¢è‰²æ˜¯åŸå§‹ä¿¡å·, ç»¿è‰²æ˜¯åŸå§‹ä¿¡å·å‡å€¼, è“è‰²æ˜¯æ»¤æ³¢åä¿¡å·, æ•ˆæœå¾ˆä¸é”™. æŠŠæ¯ç§’çš„1000ä¸ªä¿¡å·å–å‡å€¼, ç”»å‡ºæ¥çš„ç»“æœ, ä¹Ÿæ˜¾ç¤º, å¹³ç¨³äº†å¾ˆå¤š. ç¨‹åºå’Œæ•°æ®æ–‡ä»¶è¢«æ”¾åœ¨äº†è¿™é‡Œ è¿˜æœ‰åª›å§æ”¹æˆçš„C#æ–‡ä»¶","categories":[],"tags":[]},{"title":"æ·±åº¦å­¦ä¹ å…¥é—¨ï¼šåŸºäºPythonçš„ç†è®ºä¸å®ç°-æ–‹è—¤åº·æ¯…","slug":"æ·±åº¦å­¦ä¹ å…¥é—¨ï¼šåŸºäºPythonçš„ç†è®ºä¸å®ç°-æ–‹è—¤åº·æ¯…","date":"2020-08-16T10:32:37.149Z","updated":"2020-08-16T10:47:01.318Z","comments":true,"path":"2020/08/16/æ·±åº¦å­¦ä¹ å…¥é—¨ï¼šåŸºäºPythonçš„ç†è®ºä¸å®ç°-æ–‹è—¤åº·æ¯…/","link":"","permalink":"https://github.com/18wang/2020/08/16/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8%EF%BC%9A%E5%9F%BA%E4%BA%8EPython%E7%9A%84%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E7%8E%B0-%E6%96%8B%E8%97%A4%E5%BA%B7%E6%AF%85/","excerpt":"","text":"æ·±åº¦å­¦ä¹ å…¥é—¨ï¼šåŸºäºPythonçš„ç†è®ºä¸å®ç° ä¸€æœ¬è›®ç®€å•çš„æ·±åº¦å­¦ä¹ å…¥é—¨, å¸Œæœ›è‡ªå·±å¿«å¿«åœ°è¿‡ä¸€é! éšä¾¿è®°ä¸€äº›ä¸œè¥¿, ä½†æ„¿å¯ä»¥. èµ„æ–™: https://github.com/MemorialCheng/deep-learning-from-scratch ä¸­æ–‡ç‰ˆ https://github.com/oreilly-japan/deep-learning-from-scratch æ—¥æ–‡åŸç‰ˆ 12345678import numpy as np a = np.array([[2,3,4],[1,2,3]])b = np.array([3,2,1])print(a.shape, b.shape)print(np.dot(a, b)) # ç‚¹ç§¯ (2, 3) (3,) [16 10] ç¬¬ä¸‰ç«  ç¥ç»ç½‘ç»œ ç¥ç»ç½‘ç»œçš„ä»»ä¸€æƒé‡: $$\\displaystyle W^{( 1)}_{12}$$ ä¸Šæ ‡è¡¨æ˜ä½œç”¨åœ¨ç¬¬å‡ å±‚, ä¸‹æ ‡è¡¨ç¤ºè¿æ¥å‰å±‚ä¸­çš„2åˆ°å½“å‰å±‚ä¸­çš„1. æ€»ä½“ä¸Šå¯ä»¥å†™ä½œ: $$ A^{(1)} = XW^{(1)} + B^{(1)}$$ Bä¸ºåç½®, Xä¸ºå‰å±‚è¾“å…¥, Aä¸ºè¯¥å±‚ç»“æœ, Wä¸ºæƒé‡ å®ç°ä¸€ä¸ª3å±‚ç¥ç»ç½‘ç»œ 1234567891011X = np.array([1.0, 0.5])W1 = np.array([[0.1, 0.3, 0.5], [0.2, 0.4, 0.6]])B1 = np.array([0.1, 0.2, 0.3])print(W1.shape) # (2, 3)print(X.shape) # (2,)print(B1.shape) # (3,)A1 = np.dot(X, W1) + B1print(A1) (2, 3) (2,) (3,) [0.3 0.7 1.1] 123456def sigmoid(a): return 1/(1+np.exp(-1*a))Z1 = sigmoid(A1) # Z1 ç¬¬ä¸€å±‚æ¿€æ´»å‡½æ•°ä½œç”¨åçš„ç»“æœprint(A1) # [0.3, 0.7, 1.1]print(Z1) # [0.57444252, 0.66818777, 0.75026011] [0.3 0.7 1.1] [0.57444252 0.66818777 0.75026011] 123456W2 = np.array([[0.1, 0.4], [0.2, 0.5], [0.3, 0.6]])B2 = np.array([0.1, 0.2])A2 = np.dot(Z1, W2) + B2Z2 = sigmoid(A2)print(Z2) # ä»ç¬¬ä¸€å±‚åˆ°ç¬¬äºŒå±‚ [0.62624937 0.7710107 ] 12345678def identity_function(x): return xW3 = np.array([[0.1, 0.3], [0.2, 0.4]])B3 = np.array([0.1, 0.2])A3 = np.dot(Z2, W3) + B3Y = identity_function(A3) # è¿™é‡Œæˆ‘ä»¬çš„è¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°æ˜¯ä¸€ä¸ªæ’ç­‰å‡½æ•°# æˆ–è€…Y = A3print(Y) [0.31682708 0.69627909] è¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°é€‰å–é—®é¢˜: å›å½’é—®é¢˜å¯ä»¥ä½¿ç”¨æ’ç­‰å‡½æ•°ï¼ŒäºŒå…ƒåˆ†ç±»é—®é¢˜å¯ä»¥ä½¿ç”¨ sigmoid å‡½æ•°ï¼Œå¤šå…ƒåˆ†ç±»é—®é¢˜å¯ä»¥ä½¿ç”¨ softmax å‡½æ•° softmax å‡½æ•°è¡¨è¾¾å¼: $$y_k = \\frac{exp(a_k)}{\\sum_{i=1}^{n}exp(a_i)}$$ 12345678910def softmax(a): c = np.max(a) exp_a = np.exp(a - c) # æº¢å‡ºå¯¹ç­–, aå¤ªå¤§å¾ˆå®¹æ˜“æº¢å‡º return exp_a/sum(exp_a)a = np.array([0.3, 2.9, 4.0])y = softmax(a)print(y)print(sum(y)) # å’Œæ°¸è¿œæ˜¯1, å¯ä»¥è®¤ä¸º Yk æ˜¯ä¸€ä¸ªè¾“å‡ºæ¦‚ç‡ [0.01821127 0.24519181 0.73659691] 1.0 MNIST æ‰‹å†™å­— ç»å…¸çš„æ‰‹å†™å­—è¯†åˆ«ä¾‹å­, å¯èƒ½æ˜¯ä¸å…è®¸çˆ¬è™«äº†, åªèƒ½æ‰‹åŠ¨ä¸‹è½½æ–‡ä»¶åˆ°å¯¹åº”ç›®å½•, ä½†æ˜¯é—®é¢˜ä¸å¤§. è®©æˆ‘ä»¬ç…§ç€å®ƒçš„ä»£ç å¼€å§‹å§! æˆ‘ä»¬åšäº†ä¸€ä¸ªæ•°æ®çš„åŠ è½½å·¥ä½œ, load_mnist: flatten å±•å¼€æ•°æ® normalize å½’ä¸€åŒ–æ¯ä¸ªåƒç´  ä½¿ç”¨ pickle ä¿å­˜å®æ—¶çš„è¿è¡Œå¯¹è±¡, ç®€åŒ–è¿ç®—è¿‡ç¨‹. æ–¹ä¾¿å­˜å–ç½‘ç»œçš„æƒé‡ 123456789101112# å¯¼å…¥æ•°æ®import sys, osos.chdir(\"E:/Temp/deep-learning-from-scratch-master/ch03\")sys.path.append(os.pardir) # pardir å½“å‰ç›®å½•çš„çˆ¶ç›®å½•from dataset.mnist import load_mnist# ç¬¬â¼€æ¬¡è°ƒâ½¤ä¼šèŠ±è´¹â¼åˆ†é’Ÿâ€¦â€¦(x_train, t_train), (x_test, t_test) =load_mnist(flatten=True,normalize=False)# è¾“å‡ºå„ä¸ªæ•°æ®çš„å½¢çŠ¶print(x_train.shape) # (60000, 784)print(t_train.shape) # (60000,)print(x_test.shape) # (10000, 784)print(t_test.shape) # (10000,) (60000, 784) (60000,) (10000, 784) (10000,) 1234567891011121314151617181920# æ˜¾ç¤ºMNISTå›¾åƒimport sys, ossys.path.append(os.pardir)import numpy as npfrom dataset.mnist import load_mnistfrom PIL import Image # ç†Ÿæ‚‰çš„PILæ¨¡å—def img_show(img): pil_img = Image.fromarray(np.uint8(img)) pil_img.show()(x_train, t_train), (x_test, t_test) = load_mnist(flatten=True, normalize=False)img = x_train[0]label = t_train[0]print(label) # 5print(img.shape) # (784,) å·²ç» flatten è¿‡äº†img = img.reshape(28, 28) # æŠŠå›¾åƒçš„å½¢çŠ¶å˜æˆåŸæ¥çš„å°ºâ¼¨print(img.shape) # (28, 28)img_show(img) 5 (784,) (28, 28) 12345678910111213141516171819202122232425262728293031323334# æ„å»ºç¥ç»ç½‘ç»œimport pickledef get_data(): \"\"\" è·å–æ•°æ® \"\"\" (x_train, t_train), (x_test, t_test) = load_mnist(normalize=True, flatten=True, one_hot_label=False) return x_test, t_testdef init_network(): \"\"\" åˆå§‹åŒ–ç¥ç»ç½‘ç»œ å·²ç»å­¦ä¹ å¥½çš„æƒé‡æ•°æ®åœ¨sample_weight.pklä¸­ \"\"\" with open(\"sample_weight.pkl\", 'rb') as f: network = pickle.load(f) return networkdef predict(network, x): \"\"\" ä¸‰å±‚ç¥ç»ç½‘ç»œ è¾“å‡ºé‡‡ç”¨softmaxå‡½æ•° \"\"\" W1, W2, W3 = network['W1'], network['W2'], network['W3'] b1, b2, b3 = network['b1'], network['b2'], network['b3'] a1 = np.dot(x, W1) + b1 z1 = sigmoid(a1) a2 = np.dot(z1, W2) + b2 z2 = sigmoid(a2) a3 = np.dot(z2, W3) + b3 y = softmax(a3) return y 1234567891011121314# å¼€å§‹å­¦ä¹ x, t = get_data()network = init_network()accuracy_cnt = 0for i in range(len(x)): y = predict(network, x[i]) # np.argmax(x) å°†è·å–è¢«èµ‹ç»™å‚æ•° x çš„æ•°ç»„ä¸­çš„æœ€å¤§å€¼å…ƒç´ çš„ç´¢å¼• p = np.argmax(y) # è·å–æ¦‚ç‡æœ€â¾¼çš„å…ƒç´ çš„ç´¢å¼• if p == t[i]: accuracy_cnt += 1print(\"Accuracy:\" + str(float(accuracy_cnt) / len(x))) Accuracy:0.9352 1234567891011121314# æ‰¹å¤„ç† æé«˜è¿ç®—é€Ÿåº¦x, t = get_data()network = init_network()batch_size = 100# æ‰¹æ•°é‡accuracy_cnt = 0for i in range(0, len(x), batch_size): x_batch = x[i:i+batch_size] y_batch = predict(network, x_batch) p = np.argmax(y_batch, axis=1) accuracy_cnt += np.sum(p == t[i:i+batch_size]) ç¬¬å››ç«  ç¥ç»ç½‘ç»œçš„å­¦ä¹  æœ€ç»ˆç›®çš„, æé«˜æ³›åŒ–èƒ½åŠ› æŸå¤±å‡½æ•°: å¯¹äºå•ä¸ªæ ·æœ¬ å‡æ–¹è¯¯å·® $ E=\\frac{1}{2}\\sum_{k}(y_k-t_k)^2$ äº¤å‰ç†µè¯¯å·® $ E=-\\sum_{k}t_k log(y_k) $ å®é™…çš„å­¦ä¹ ä¸­, å¸¸ç”¨å°æ‰¹é‡(mini batch)å­¦ä¹ , å°†æ ·æœ¬é¡ºåºæ‰“ä¹±, å›ºå®šä¸ªæ•°çš„æ ·æœ¬ä¸ºä¸€ç»„, æé«˜æ•ˆç‡, é˜²æ­¢è¿‡æ‹Ÿåˆ. 12345678# äº¤å‰ç†µè¯¯å·®def cross_entropy_error(y, t): if y.ndim == 1: t = t.reshape(1, t.size) y = y.reshape(1, y.size) batch_size = y.shape[0] return -np.sum(t * np.log(y + 1e-7)) / batch_size 12345678910111213141516171819202122232425262728293031import numpy as npdef numerical_gradient(f, x): \"\"\" f(x) åœ¨ x å¤„çš„ æ•°å€¼ æ¢¯åº¦ f ä¸ºå‡½æ•°å¯¹è±¡ x ä¸ºåå¯¼æ‰€åœ¨ä½ç½®, å¯ä»¥æ˜¯æ•°ç»„ \"\"\" h = 1e-4 # 0.0001 grad = np.zeros_like(x) # â½£æˆå’Œxå½¢çŠ¶ç›¸åŒçš„æ•°ç»„ for idx in range(x.size): tmp_val = x[idx] # f(x+h)çš„è®¡ç®— x[idx] = tmp_val + h fxh1 = f(x) # f(x-h)çš„è®¡ç®— x[idx] = tmp_val - h fxh2 = f(x) grad[idx] = (fxh1 - fxh2) / (2*h) x[idx] = tmp_val # è¿˜åŸå€¼ return graddef function_2(x): return x[0]**2 + x[1]**2# æˆ–è€…return np.sum(x**2)# éƒ½æ˜¯ int å°±æ‚²å‰§äº†, float æ²¡äº‹, å¯èƒ½æ˜¯æ•°å€¼ç²¾åº¦é—®é¢˜.print(numerical_gradient(function_2, np.array([3.0, 4.0]))) [6. 8.] 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980# ä¸¤å±‚ç¥ç»ç½‘ç»œ# coding: utf-8 import sys, osos.chdir(\"E:/Temp/deep-learning-from-scratch-master/ch04\")sys.path.append(os.pardir) # ä¸ºäº†å¯¼å…¥çˆ¶ç›®å½•çš„æ–‡ä»¶è€Œè¿›è¡Œçš„è®¾å®šfrom common.functions import *from common.gradient import numerical_gradientclass TwoLayerNet: def __init__(self, input_size, hidden_size, output_size, weight_init_std=0.01): # åˆå§‹åŒ–æƒé‡ self.params = &#123;&#125; self.params['W1'] = weight_init_std * np.random.randn(input_size, hidden_size) self.params['b1'] = np.zeros(hidden_size) self.params['W2'] = weight_init_std * np.random.randn(hidden_size, output_size) self.params['b2'] = np.zeros(output_size) def predict(self, x): W1, W2 = self.params['W1'], self.params['W2'] b1, b2 = self.params['b1'], self.params['b2'] a1 = np.dot(x, W1) + b1 z1 = sigmoid(a1) a2 = np.dot(z1, W2) + b2 y = softmax(a2) return y # x:è¾“å…¥æ•°æ®, t:ç›‘ç£æ•°æ® def loss(self, x, t): y = self.predict(x) return cross_entropy_error(y, t) def accuracy(self, x, t): y = self.predict(x) y = np.argmax(y, axis=1) t = np.argmax(t, axis=1) accuracy = np.sum(y == t) / float(x.shape[0]) return accuracy # x:è¾“å…¥æ•°æ®, t:ç›‘ç£æ•°æ® def numerical_gradient(self, x, t): loss_W = lambda W: self.loss(x, t) grads = &#123;&#125; grads['W1'] = numerical_gradient(loss_W, self.params['W1']) grads['b1'] = numerical_gradient(loss_W, self.params['b1']) grads['W2'] = numerical_gradient(loss_W, self.params['W2']) grads['b2'] = numerical_gradient(loss_W, self.params['b2']) return grads def gradient(self, x, t): W1, W2 = self.params['W1'], self.params['W2'] b1, b2 = self.params['b1'], self.params['b2'] grads = &#123;&#125; batch_num = x.shape[0] # forward a1 = np.dot(x, W1) + b1 z1 = sigmoid(a1) a2 = np.dot(z1, W2) + b2 y = softmax(a2) # backward dy = (y - t) / batch_num grads['W2'] = np.dot(z1.T, dy) grads['b2'] = np.sum(dy, axis=0) da1 = np.dot(dy, W2.T) dz1 = sigmoid_grad(a1) * da1 grads['W1'] = np.dot(x.T, dz1) grads['b1'] = np.sum(dz1, axis=0) return grads 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859# ä½¿ç”¨ ä¸¤å±‚ç¥ç»ç½‘ç»œ è¿›è¡Œmini-batchè®­ç»ƒ# coding: utf-8import sys, ossys.path.append(os.pardir) # ä¸ºäº†å¯¼å…¥çˆ¶ç›®å½•çš„æ–‡ä»¶è€Œè¿›è¡Œçš„è®¾å®šimport numpy as npimport matplotlib.pyplot as pltfrom dataset.mnist import load_mnistfrom two_layer_net import TwoLayerNet# è¯»å…¥æ•°æ®(x_train, t_train), (x_test, t_test) = load_mnist(normalize=True, one_hot_label=True)network = TwoLayerNet(input_size=784, hidden_size=50, output_size=10)iters_num = 10000 # é€‚å½“è®¾å®šå¾ªç¯çš„æ¬¡æ•°train_size = x_train.shape[0]batch_size = 100learning_rate = 0.1train_loss_list = []train_acc_list = []test_acc_list = []iter_per_epoch = max(train_size / batch_size, 1)for i in range(iters_num): batch_mask = np.random.choice(train_size, batch_size) x_batch = x_train[batch_mask] t_batch = t_train[batch_mask] # è®¡ç®—æ¢¯åº¦ #grad = network.numerical_gradient(x_batch, t_batch) grad = network.gradient(x_batch, t_batch) # æ›´æ–°å‚æ•° for key in ('W1', 'b1', 'W2', 'b2'): network.params[key] -= learning_rate * grad[key] loss = network.loss(x_batch, t_batch) train_loss_list.append(loss) # æ¯ä¸ª mini batch ä¹‹ååˆ¤æ–­å‡†ç¡®ç‡ if i % iter_per_epoch == 0: train_acc = network.accuracy(x_train, t_train) test_acc = network.accuracy(x_test, t_test) train_acc_list.append(train_acc) test_acc_list.append(test_acc) print(\"train acc, test acc | \" + str(train_acc) + \", \" + str(test_acc))# ç»˜åˆ¶å›¾å½¢markers = &#123;'train': 'o', 'test': 's'&#125;x = np.arange(len(train_acc_list))plt.plot(x, train_acc_list, label='train acc')plt.plot(x, test_acc_list, label='test acc', linestyle='--')plt.xlabel(\"epochs\")plt.ylabel(\"accuracy\")plt.ylim(0, 1.0)plt.legend(loc='lower right')plt.show() train acc, test acc | 0.10218333333333333, 0.101 train acc, test acc | 0.7860666666666667, 0.7923 train acc, test acc | 0.8741666666666666, 0.8779 train acc, test acc | 0.8971333333333333, 0.9007 train acc, test acc | 0.9080833333333334, 0.9108 train acc, test acc | 0.91445, 0.9182 train acc, test acc | 0.9196833333333333, 0.9227 train acc, test acc | 0.9234166666666667, 0.9271 train acc, test acc | 0.9276, 0.9308 train acc, test acc | 0.9304166666666667, 0.9339 train acc, test acc | 0.9337166666666666, 0.935 train acc, test acc | 0.9369666666666666, 0.937 train acc, test acc | 0.9384833333333333, 0.9397 train acc, test acc | 0.9418, 0.9421 train acc, test acc | 0.9435333333333333, 0.9436 train acc, test acc | 0.9456, 0.9459 train acc, test acc | 0.9472833333333334, 0.9471 ç¬¬äº”ç«  è¯¯å·®åå‘ä¼ æ’­æ³• ä½¿ç”¨è®¡ç®—å›¾çš„çŸ¥è¯†, åˆ©ç”¨å›¾çš„æ±‚å¯¼(backward)æ–¹ä¾¿çš„ç‰¹ç‚¹; å›¾ä¹Ÿå¯ä»¥å­˜å‚¨è®¡ç®—è¿‡ç¨‹ä¸­çš„ä¸€äº›æ•°æ®(class) æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ æ­£å‘ä¼ è¾“(forward) å’Œ åå‘ä¼ è¾“(backward) 12345678910111213141516171819# ä¹˜æ³•å±‚class MulLayer: def __init__(self): self.x = None self.y = None def forward(self, x, y): self.x = x self.y = y out = x * y return out def backward(self, dout): dx = dout * self.y # ç¿»è½¬xå’Œy dy = dout * self.x # å¯¼æ•°æ˜¯ å¯¹æ–¹ä¹˜æ•° return dx, dy 12345678910111213141516# åŠ æ³•å±‚class AddLayer: def __init__(self): pass def forward(self, x, y): out = x + y return out def backward(self, dout): dx = dout * 1 # å¯¼æ•°æ˜¯ 1 dy = dout * 1 return dx, dy æˆ‘ä»¬å°† Y = X * W + B ç§°ä½œä»¿å°„å˜æ¢, å¯¹åº”æ­¥éª¤ç§°ä¸ºä»¿å°„å˜æ¢å±‚.(Affine) ä»¿å°„å±‚ä¸­å‚ä¸è¿ç®—çš„éƒ½æ˜¯çŸ©é˜µ è¯¯å·®åå‘ä¼ æ’­æ³•æ±‚æ¢¯åº¦ æ¯”æ•°å€¼æ³•æ•ˆç‡æ›´é«˜. ä½†æˆ‘ä»¬å¸¸ç”¨ æ•°å€¼æ³• è®¡ç®—æ¢¯åº¦, å¯¹ç»“æœè¿›è¡Œæ¯”è¾ƒ. ä»è€Œå®ç°æ¢¯åº¦ç¡®è®¤. 1234567891011121314151617181920212223# è®¡ç®— æ•°å€¼å¾®åˆ†æ±‚å‡ºçš„æ¢¯åº¦å’Œè¯¯å·®åå‘ä¼ æ’­æ³•æ±‚å‡ºçš„æ¢¯åº¦çš„è¯¯å·®# coding: utf-8import sys, osos.chdir(\"E:\\\\Temp\\\\deep-learning-from-scratch-master\\\\ch05\")sys.path.append(os.pardir) # ä¸ºäº†å¯¼å…¥çˆ¶ç›®å½•çš„æ–‡ä»¶è€Œè¿›è¡Œçš„è®¾å®šimport numpy as npfrom dataset.mnist import load_mnistfrom two_layer_net import TwoLayerNet# è¯»å…¥æ•°æ®(x_train, t_train), (x_test, t_test) = load_mnist(normalize=True, one_hot_label=True)network = TwoLayerNet(input_size=784, hidden_size=50, output_size=10)x_batch = x_train[:3]t_batch = t_train[:3]grad_numerical = network.numerical_gradient(x_batch, t_batch)grad_backprop = network.gradient(x_batch, t_batch)for key in grad_numerical.keys(): diff = np.average( np.abs(grad_backprop[key] - grad_numerical[key]) ) print(key + \":\" + str(diff)) W1:4.5174184319697615e-10 b1:2.397918682756723e-09 W2:4.725159762929652e-09 b2:1.398749418138334e-07 ç¬¬äº”ç« æ‰€å­¦ é€šè¿‡ä½¿ç”¨è®¡ç®—å›¾ï¼Œå¯ä»¥ç›´è§‚åœ°æŠŠæ¡è®¡ç®—è¿‡ç¨‹ã€‚ è®¡ç®—å›¾çš„èŠ‚ç‚¹æ˜¯ç”±å±€éƒ¨è®¡ç®—æ„æˆçš„ã€‚å±€éƒ¨è®¡ç®—æ„æˆå…¨å±€è®¡ç®—ã€‚ è®¡ç®—å›¾çš„æ­£å‘ä¼ æ’­è¿›è¡Œä¸€èˆ¬çš„è®¡ç®—ã€‚é€šè¿‡è®¡ç®—å›¾çš„åå‘ä¼ æ’­ï¼Œå¯ä»¥è®¡ç®—å„ä¸ªèŠ‚ç‚¹çš„å¯¼æ•°ã€‚ é€šè¿‡å°†ç¥ç»ç½‘ç»œçš„ç»„æˆå…ƒç´ å®ç°ä¸ºå±‚ï¼Œå¯ä»¥é«˜æ•ˆåœ°è®¡ç®—æ¢¯åº¦ï¼ˆåå‘ä¼ æ’­æ³•ï¼‰ã€‚ é€šè¿‡æ¯”è¾ƒæ•°å€¼å¾®åˆ†å’Œè¯¯å·®åå‘ä¼ æ’­æ³•çš„ç»“æœï¼Œå¯ä»¥ç¡®è®¤è¯¯å·®åå‘ä¼ æ’­æ³•çš„å®ç°æ˜¯å¦æ­£ç¡®ï¼ˆæ¢¯åº¦ç¡®è®¤ï¼‰ã€‚ ç¬¬6ç«  æœ¬ç« æ‰€å­¦çš„å†…å®¹ å‚æ•°çš„æ›´æ–°æ–¹æ³•ï¼Œé™¤äº† SGD ä¹‹å¤–ï¼Œè¿˜æœ‰Momentumã€AdaGradã€Adamç­‰æ–¹æ³•ã€‚ æƒé‡åˆå§‹å€¼çš„èµ‹å€¼æ–¹æ³•å¯¹è¿›è¡Œæ­£ç¡®çš„å­¦ä¹ éå¸¸é‡è¦ã€‚ ä½œä¸ºæƒé‡åˆå§‹å€¼ï¼ŒXavier åˆå§‹å€¼ã€Heåˆå§‹å€¼ç­‰æ¯”è¾ƒæœ‰æ•ˆã€‚ -é€šè¿‡ä½¿ç”¨ Batch Normalizationï¼Œå¯ä»¥åŠ é€Ÿå­¦ä¹ ï¼Œå¹¶ä¸”å¯¹åˆå§‹å€¼å˜å¾—å¥å£®ã€‚ æŠ‘åˆ¶è¿‡æ‹Ÿåˆçš„æ­£åˆ™åŒ–æŠ€æœ¯æœ‰æƒå€¼è¡°å‡ã€Dropoutç­‰ã€‚ é€æ¸ç¼©å°â€œå¥½å€¼â€å­˜åœ¨çš„èŒƒå›´æ˜¯æœç´¢è¶…å‚æ•°çš„ä¸€ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‚ ç¬¬7ç«  æœ¬ç« æ‰€å­¦çš„å†…å®¹ CNNåœ¨æ­¤å‰çš„å…¨è¿æ¥å±‚çš„ç½‘ç»œä¸­æ–°å¢äº†å·ç§¯å±‚å’Œæ± åŒ–å±‚ã€‚ ä½¿ç”¨im2col å‡½æ•°å¯ä»¥ç®€å•ã€é«˜æ•ˆåœ°å®ç°å·ç§¯å±‚å’Œæ± åŒ–å±‚ã€‚ é€šè¿‡CNNçš„å¯è§†åŒ–ï¼Œå¯çŸ¥éšç€å±‚æ¬¡å˜æ·±ï¼Œæå–çš„ä¿¡æ¯æ„ˆåŠ é«˜çº§ã€‚ LeNetå’ŒAlexNetæ˜¯CNNçš„ä»£è¡¨æ€§ç½‘ç»œã€‚ åœ¨æ·±åº¦å­¦ä¹ çš„å‘å±•ä¸­ï¼Œå¤§æ•°æ®å’ŒGPUåšå‡ºäº†å¾ˆå¤§çš„è´¡çŒ®ã€‚ ç¬¬8ç«  æœ¬ç« æ‰€å­¦çš„å†…å®¹ å¯¹äºå¤§å¤šæ•°çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥æœŸå¾…é€šè¿‡åŠ æ·±ç½‘ç»œæ¥æé«˜æ€§èƒ½ã€‚ åœ¨æœ€è¿‘çš„å›¾åƒè¯†åˆ«å¤§èµ›ILSVRCä¸­ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•ç‹¬å é³Œå¤´ï¼Œä½¿ç”¨çš„ç½‘ç»œä¹Ÿåœ¨æ·±åŒ–ã€‚ VGGã€GoogLeNetã€ResNetç­‰æ˜¯å‡ ä¸ªè‘—åçš„ç½‘ç»œã€‚ åŸºäºGPUã€åˆ†å¸ƒå¼å­¦ä¹ ã€ä½æ•°ç²¾åº¦çš„ç¼©å‡ï¼Œå¯ä»¥å®ç°æ·±åº¦å­¦ä¹ çš„é«˜é€ŸåŒ–ã€‚ æ·±åº¦å­¦ä¹ ï¼ˆç¥ç»ç½‘ç»œï¼‰ä¸ä»…å¯ä»¥ç”¨äºç‰©ä½“è¯†åˆ«ï¼Œè¿˜å¯ä»¥ç”¨äºç‰©ä½“æ£€æµ‹ã€å›¾åƒåˆ†å‰²ã€‚ æ·±åº¦å­¦ä¹ çš„åº”ç”¨åŒ…æ‹¬å›¾åƒæ ‡é¢˜çš„ç”Ÿæˆã€å›¾åƒçš„ç”Ÿæˆã€å¼ºåŒ–å­¦ä¹ ç­‰ã€‚æœ€è¿‘ï¼Œæ·±åº¦å­¦ä¹ åœ¨è‡ªåŠ¨é©¾é©¶ä¸Šçš„åº”ç”¨ä¹Ÿå¤‡å—æœŸå¾…ã€‚ æˆ‘éƒ½å­¦å®Œäº†, åé¢çš„è‰ç‡ä¸€ç‚¹, 2016å¹´çš„ä¹¦, å¾ˆæ£’çš„å…¥é—¨","categories":[],"tags":[]},{"title":"pdfæ·»åŠ é¡µç ","slug":"pdfæ·»åŠ é¡µç ","date":"2020-06-21T02:11:38.051Z","updated":"2020-06-21T02:35:43.175Z","comments":true,"path":"2020/06/21/pdfæ·»åŠ é¡µç /","link":"","permalink":"https://github.com/18wang/2020/06/21/pdf%E6%B7%BB%E5%8A%A0%E9%A1%B5%E7%A0%81/","excerpt":"","text":"ç»™PDFæ–‡ä»¶æ·»åŠ é¡µç  æœ‰äº›æ‰«æçš„, æˆ–è€…æœ¬èº«æ²¡æœ‰æ·»åŠ é¡µç çš„pdfæ–‡ä»¶, å¾ˆé•¿, ä¹Ÿæ²¡æœ‰ä¹¦ç­¾ç›®å½•å¯ä»¥è·³è½¬, å°½ç®¡å¾ˆå¤špdfç¼–è¾‘å™¨å¯ä»¥æ‰‹åŠ¨æ·»åŠ ç›®å½•, ä½†ä»ç„¶ä¸ç¬¦åˆæ•ˆç‡çš„åŸåˆ™. å½“ç„¶, æˆ‘ä»¬å¯ä»¥å†™ç¨‹åºå®ç°, åœ¨éœ€è¦ç¼–è¾‘çš„pdfæ ·æœ¬æ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹, å°å·¥å…·ä¹Ÿå¯ä»¥å¾ˆæœ‰ç”¨. è¿™ç¯‡åšå®¢ç»™æˆ‘æä¾›äº†å¾ˆå¤§çš„å¸®åŠ©. ä¸‹è½½&quot;è€é©¬&quot;è‡ªå·±å†™çš„PdgCntEditor åšå®¢åœ°å€: https://www.cnblogs.com/stronghorse/ æœ€æ–°è½¯ä»¶ä¸‹è½½åœ°å€ï¼š é“¾æ¥ï¼šhttps://pan.baidu.com/s/1BC0JTOACnfePv8LokD5GCg æå–ç ï¼štyor English version: http://www.mediafire.com/folder/f0z2hexqdnr9a/Software ä»äº¬ä¸œ, äºšé©¬é€Š, å›¾ä¹¦å†…å®¹ç­‰ç­‰æ¸ é“, è·å¾—æ–‡ä»¶ç›®å½•. æœ€å¥½å¤åˆ¶åˆ°excelé‡Œé¢, åˆ†ä¸¤æ , åºå·æ ‡é¢˜ä¸€æ , é¡µç ä¸€æ (ä¸¤æ ä¹‹é—´å¤©ç„¶ç”¨åˆ¶è¡¨ç¬¦Tabåˆ†å¼€) è¿è¡ŒPdgCntEditor.exe, æ‰“å¼€ ***.pdf, å°†ç›®å½•ç²˜è´´åˆ°ç©ºç™½å¤„, é€‰ä¸­ç›®å½•. è‡ªåŠ¨ç¼©è¿› è®¾å®šåŸºå‡†é¡µ, å³ç›®å½•ä¸­P1å¯¹åº”çš„å®é™…PDFé¡µæ•°. ä¿å­˜æ–‡ä»¶","categories":[],"tags":[]},{"title":"è’²å®‡ç¦è€ƒç ”æˆç»©æ’åä¼°ç®—","slug":"è’²å®‡ç¦è€ƒç ”æˆç»©æ’åä¼°ç®—","date":"2020-05-10T07:19:50.010Z","updated":"2020-05-10T07:37:36.617Z","comments":true,"path":"2020/05/10/è’²å®‡ç¦è€ƒç ”æˆç»©æ’åä¼°ç®—/","link":"","permalink":"https://github.com/18wang/2020/05/10/%E8%92%B2%E5%AE%87%E7%90%A6%E8%80%83%E7%A0%94%E6%88%90%E7%BB%A9%E6%8E%92%E5%90%8D%E4%BC%B0%E7%AE%97/","excerpt":"","text":"ç ”ç©¶è’²å®‡ç¦æˆç»©æ’å_ç»“åˆç ”ç©¶ç”Ÿè€ƒè¯•çš„æˆç»©åˆ†å¸ƒæƒ…å†µ å°è¯•åº”ç”¨ä¸€ä¸¤ä¸ªå…·ä½“çš„ä¾‹å­ ä¸­å—è´¢ç»æ”¿æ³•å¤§å­¦çš„ä¾‹å­è¡¨æ˜, æ ·æœ¬å¤ªå°‘å¼‚å¸¸éš¾å— æ±Ÿè‹2018å¹´é«˜è€ƒçš„ä¾‹å­è¡¨æ˜, ååˆ†æ¥è¿‘æ­£æ€åˆ†å¸ƒ(å› ä¸ºç¼ºä¹å®Œæ•´æ•°æ®, éš¾ä»¥ç›´æ¥ä¼°ç®—) è°ƒæ•´è’²å®‡ç¦è¥¿å—äº¤å¤§çš„æ•°æ®, è¿˜æ˜¯è¾ƒä¸ºå‡†ç¡®åœ°åˆ»ç”»äº†æ•´ä¸ªè€ƒç”Ÿçš„æˆç»©åˆ†å¸ƒ. ç»“æœ: åˆ†æ•°çº¿ 349.6126342475794 å‡åˆ† 317.4427612973726 ä»–çš„æˆç»© 356.62492204051085 æˆç»©æ’å 130.84695647606708 123456789import numpy as npimport matplotlib.pyplot as pltsample = np.random.normal(loc=10 ,size=1000) plt.hist(sample) # ç”¨æ­£æ€åˆ†å¸ƒç»ƒä¸€ä¸‹ PDF å›¾åƒplt.show() 12345678910import numpy as npimport matplotlib.pyplot as pltsample = np.random.normal(loc=10 ,size=1000)hist, bin_edges = np.histogram(sample) # CDF ç”»æ³•cdf = np.cumsum(hist)plt.plot(cdf)plt.show() 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849\"\"\"ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªä¾‹å­, å¤ªéš¾äº†, æ ·æœ¬æ•°é‡è¿‡å°\"\"\"import numpy as npimport matplotlib.pyplot as plt# ä¸­å—è´¢ç»æ”¿æ³•å¤§å­¦ ç»Ÿè®¡ä¸æ•°å­¦å­¦é™¢2020å¹´ç¡•å£«ç ”ç©¶ç”Ÿå…¥å­¦è€ƒè¯•åˆè¯•æˆç»©åˆ†æ•°æ®µå…¬å‘Š# http://tsxy.zuel.edu.cn/2020/0417/c4801a240926/page.htmrawZN = \"\"\"['400åˆ†ä»¥ä¸Š,395åˆ†ä»¥ä¸Š 390åˆ†ä»¥ä¸Š 385åˆ†ä»¥ä¸Š 380åˆ†ä»¥ä¸Š 375åˆ†ä»¥ä¸Š 370åˆ†ä»¥ä¸Š 365åˆ†ä»¥ä¸Š 360åˆ†ä»¥ä¸Š 355åˆ†ä»¥ä¸Š 350åˆ†ä»¥ä¸Š 345åˆ†ä»¥ä¸Š'][[2 4 5 10 15 15 17 19 21 26 29 332 4 6 6 8 12 14 19 23 29 39 4628 38 55 73 103 135 167 209 243 275 311 344]]\"\"\"# æ ¼å¼ä¸Šè¿›è¡Œä¸€äº›å¤„ç†rawZN = rawZN.replace(\"\\t\", \",\") titleZN, dataZN = rawZN.split(\"\\n\",maxsplit=1)titleZN = titleZN.replace(\",\", \"\\',\\'\")dataZN = dataZN.replace(\"\\n\", \"],[\")titleZN = eval(titleZN)dataZN = eval(dataZN)dataZN = np.array(dataZN)print(dataZN)pureZN = []for i in dataZN: i[1:] -= i[:-1].copy() pureZN.append(i)pureZN = np.array(pureZN)print(pureZN)t = 1for i in pureZN: plt.subplot(eval('31'+str(t))) t += 1 # hist, bin_edges = np.histogram(i) plt.plot(i) plt.xticks(range(len(titleZN))[::3], titleZN[::3]) ## å¯ä»¥è®¾ç½®åæ ‡å­—# hist, bin_edges = np.histogram(sample)# cdf = np.cumsum(hist)# plt.plot(cdf)plt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾plt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·plt.show() [[ 2 4 5 10 15 15 17 19 21 26 29 33] [ 2 4 6 6 8 12 14 19 23 29 39 46] [ 28 38 55 73 103 135 167 209 243 275 311 344]] [[ 2 2 1 5 5 0 2 2 2 5 3 4] [ 2 2 2 0 2 4 2 5 4 6 10 7] [28 10 17 18 30 32 32 42 34 32 36 33]] 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import numpy as npimport matplotlib.pyplot as plt# æ±Ÿè‹ï¼š2018å¹´æ™®é€šé«˜è€ƒæ–‡ç†ç§‘é€åˆ†æ®µç»Ÿè®¡è¡¨ ç†ç§‘éƒ¨åˆ†# https://gaokao.chsi.com.cn/gkxx/zc/ss/201806/20180624/1699971659.htmlrawJS = \"\"\"[106,129,153,176,206,244,294,349,403,481,554,632,729,824,941,1073,1212,1374,1532,1701,1905,2155,2410,2673,2977,3300,3640,4011,4417,4851,5337,5826,6386,6970,7558,8196,8894,9624,10397,11188,12010,12927,13878,14865,15908,16949,18069,19224,20426,21662,22956,24259,25683,27082,28578,30126,31696,33251,34844,36532,38197,39968,41732,43537,45377,47223,49066,50899,52843,54809,56818,58853,60827,62874,64881,66887,68883,70894,72878,74876,76939,78846,80785,82746,84717,86691,88640,90569,92470,94303,96130,97984,99833,101621,103400,105171,106842,108538,110109,111659,113259,114858,116332,117807,119232,120592,121985,123348,124643,125898,127159,128392,129577,130768,131884,133003,134133,135180,136221,137206,138195,139160,140082,141006,141853,142718,143558,144384,145131,145856,146562,147204,147854,148486,149146,149786,150353]\"\"\"titleJS = \"\"\"['411','410','409','408','407','406','405','404','403','402','401','400','399','398','397','396','395','394','393','392','391','390','389','388','387','386','385','384','383','382','381','380','379','378','377','376','375','374','373','372','371','370','369','368','367','366','365','364','363','362','361','360','359','358','357','356','355','354','353','352','351','350','349','348','347','346','345','344','343','342','341','340','339','338','337','336','335','334','333','332','331','330','329','328','327','326','325','324','323','322','321','320','319','318','317','316','315','314','313','312','311','310','309','308','307','306','305','304','303','302','301','300','299','298','297','296','295','294','293','292','291','290','289','288','287','286','285','284','283','282','281','280','279','278','277','276','275']\"\"\"rawJS = np.array(eval(rawJS))titleJS = eval(titleJS)titleJS = [int(i) for i in titleJS]total = rawJS[-1] # æ€»äººæ•°rawJS[1:] -= rawJS[:-1].copy()plt.figure(1)plt.plot(rawJS/total) # ç”»PDFplt.xticks(range(len(titleJS))[::5], titleJS[::5]) ## å¯ä»¥è®¾ç½®åæ ‡å­—plt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾plt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·# plt.show()sample = np.random.choice(titleJS, p=rawJS/total,size=10000)meanJS = sample.mean() # æ­£æ€åˆ†å¸ƒæ‹Ÿåˆdelta = sample.std()import scipy.statsp = scipy.stats.norm.pdf(titleJS, meanJS, delta) # è¿”å›N(mu,sigma^2)çš„æ¦‚ç‡å¯†åº¦å‡½æ•°åœ¨ x å¤„çš„å€¼plt.plot(p)plt.figure(2)cdfJS = rawJS.cumsum() # ç”»CDFplt.xticks(range(len(titleJS))[::5], titleJS[::5]) ## å¯ä»¥è®¾ç½®åæ ‡å­—plt.plot(cdfJS/total)# plt.show()titleJS.sort()c = scipy.stats.norm.cdf(titleJS, meanJS, delta)plt.plot(c)plt.show() 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768import numpy as npimport matplotlib.pyplot as pltimport scipy.statsnum = 1560stopR = 204stopPointR = 349 puR = 356mean = 318std = 28sampleRan = np.random.normal(mean, std, 155400)sample = np.sort(sampleRan) # è®¡ç®—åˆ†æ•°çº¿stop = np.percentile(sample, 100-100*stopR/num) # percentile è¿”å›ç™¾åˆ†ä½æ•°å¯¹åº”çš„å€¼print('ä¼°è®¡åˆ†æ•°çº¿', stop)# æ¢ç®—æˆè’²å®‡ç¦çš„åˆ†æ•°meanR = stopPointR/stop*meanprint(\"å®é™…å‡åˆ†\",meanR) # å®é™… å¹³å‡åˆ†pu = puR*mean/meanRprint(pu)rank = scipy.stats.norm.cdf(pu, mean, std)print((1-rank)*num)plt.rcParams['font.sans-serif']=['SimHei'] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾plt.rcParams['axes.unicode_minus']=False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·L = np.linspace(200, 430, num=500)Lpdf = scipy.stats.norm.pdf(L, meanR, std)plt.subplot(211)plt.plot(L,Lpdf)plt.title(\"æˆç»©åˆ†å¸ƒæ¦‚ç‡å¯†åº¦\")plt.xlabel(\"æˆç»©\") # xè½´ä¸Šçš„åå­—plt.ylabel(\"æ¦‚ç‡å¯†åº¦\") # yè½´ä¸Šçš„åå­—# ç”»åˆ†æ•°çº¿point1 = [stop,scipy.stats.norm.pdf(stop, meanR, std)]plt.plot([point1[0],point1[0]],[point1[1],0],'r--',linewidth = 2)plt.annotate('åˆ†æ•°çº¿', xy=point1)# ç”»è’²å®‡ç¦point1 = [puR,scipy.stats.norm.pdf(pu, meanR, std)]plt.plot([point1[0],point1[0]],[point1[1],0],'g--',linewidth = 1.5)plt.annotate('pyq', xy=point1)plt.xlim((L[0],L[-1]))plt.ylim((0,0.015))plt.xticks([int(i) for i in L[::20]], [int(i) for i in L[::20]]) ## å¯ä»¥è®¾ç½®åæ ‡å­—Lcdf = scipy.stats.norm.cdf(L, meanR, std)plt.subplot(212)plt.plot(L,Lcdf*num)plt.title(\"æˆç»©æ’å(ç´¯è®¡åˆ†å¸ƒ)\")plt.xticks([int(i) for i in L[::20]], [int(i) for i in L[::20]]) ## å¯ä»¥è®¾ç½®åæ ‡å­—plt.yticks(range(num,0,-1)[::100], [i for i in range(num)[::100]])plt.xlabel(\"æˆç»©\") # xè½´ä¸Šçš„åå­—plt.ylabel(\"æ’å\") # yè½´ä¸Šçš„åå­—# ç”»åˆ†æ•°çº¿point1 = [stop,scipy.stats.norm.cdf(stop, meanR, std)*num]plt.plot([point1[0],point1[0],L[0]],[0,point1[1],point1[1]],'r--',linewidth = 2)plt.annotate('åˆ†æ•°çº¿', xy=[point1[0]-4, point1[1]-80])# ç”»è’²å®‡ç¦point1 = [puR,scipy.stats.norm.cdf(pu, meanR, std)*num]plt.plot([point1[0],point1[0],L[0]],[0,point1[1],point1[1]],'g--',linewidth = 1.5)plt.annotate('pyq', xy=[point1[0]+2, point1[1]-20])plt.xlim((L[0],L[-1]))plt.ylim((0,1.05*num))plt.show() ä¼°è®¡åˆ†æ•°çº¿ 349.6126342475794 å®é™…å‡åˆ† 317.4427612973726 356.62492204051085 130.84695647606708","categories":[],"tags":[]},{"title":"Hexoåšå®¢æ·»åŠ Latexå…¬å¼","slug":"Hexoåšå®¢æ·»åŠ Latexå…¬å¼","date":"2020-04-02T10:13:46.361Z","updated":"2020-04-02T10:18:33.886Z","comments":true,"path":"2020/04/02/Hexoåšå®¢æ·»åŠ Latexå…¬å¼/","link":"","permalink":"https://github.com/18wang/2020/04/02/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0Latex%E5%85%AC%E5%BC%8F/","excerpt":"","text":"æ³¨æ„ç‚¹: é“¾æ¥å¯¹äºä½¿ç”¨httpsåè®®çš„é™æ€ç½‘ç«™æ¥è¯´ï¼Œæ‰€ä½¿ç”¨çš„cdnåœ°å€éœ€è¦æ˜¾å¼åœ°æ·»åŠ  https: //ï¼Œä¿®æ”¹configæ–‡ä»¶çš„cdnçš„åœ°å€ä¹‹åï¼Œé‡æ–°éƒ¨ç½²ï¼Œå‘ç°ä¸€åˆ‡æ­£å¸¸ é“¾æ¥ ä¸‹æ–‡åœ¨ hexo ä¸­ï¼Œä½ ä¼šå‘ç°æˆ‘ä»¬ä¸èƒ½ç”¨ Latex è¯­æ³•æ¥ä¹¦å†™æ•°å­¦å…¬å¼ï¼Œè¿™å¯¹äºä¹¦å†™å­¦æœ¯åšå®¢æ¥è¯´æ˜¯å¾ˆå¤§çš„ä¸ä¾¿ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šç»å¸¸ç¢°åˆ°å¾ˆå¤šçš„æ•°å­¦å…¬å¼æ¨å¯¼ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å®‰è£…ç¬¬ä¸‰æ–¹åº“æ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚ç¬¬ä¸€æ­¥ï¼š ä½¿ç”¨Kramedä»£æ›¿ Markedhexo é»˜è®¤çš„æ¸²æŸ“å¼•æ“æ˜¯ markedï¼Œä½†æ˜¯ marked ä¸æ”¯æŒ mathjaxã€‚ kramed æ˜¯åœ¨ marked çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ã€‚æˆ‘ä»¬åœ¨å·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… kramed.npm uninstall hexo-renderer-marked --save npm install hexo-renderer-kramed --save ç„¶åï¼Œæ›´æ”¹&lt;your-project-dir&gt;/node_modules/hexo-renderer-kramed/lib/renderer.jsï¼Œæ›´æ”¹ï¼š// Change inline math rule function formatText(text) { // Fit kramed's rule: $$ + \\1 + $$ return text.replace(/`\\$(.*?)\\$`/g, '$$$$$1$$$$'); } ä¸ºï¼š// Change inline math rule function formatText(text) { return text; } ç¬¬äºŒæ­¥: åœæ­¢ä½¿ç”¨ hexo-mathé¦–å…ˆï¼Œå¦‚æœä½ å·²ç»å®‰è£… hexo-math, è¯·å¸è½½å®ƒï¼šnpm uninstall hexo-math --save ç„¶åå®‰è£… hexo-renderer-mathjax åŒ…ï¼šnpm install hexo-renderer-mathjax --save ç¬¬ä¸‰æ­¥: æ›´æ–° Mathjax çš„ CDN é“¾æ¥é¦–å…ˆï¼Œæ‰“å¼€&lt;path-to-your-project&gt;/node_modules/hexo-renderer-mathjax/mathjax.htmlç„¶åï¼ŒæŠŠ&lt;script&gt;æ›´æ”¹ä¸ºï¼š&lt;script&lt;/span&gt; src=","categories":[],"tags":[]},{"title":"SVG","slug":"SVG","date":"2020-04-01T16:00:00.000Z","updated":"2020-04-02T10:00:15.437Z","comments":true,"path":"2020/04/02/SVG/","link":"","permalink":"https://github.com/18wang/2020/04/02/SVG/","excerpt":"","text":"SVG å­¦ä¹ ä¸»è¦æ•™ç¨‹ç½‘ç«™mozilla developerä¸»è¦è®°å½•æˆ‘çš„ä¸€äº›è‰ç¨¿å’Œå­¦ä¹ å†…å®¹.SVGçš„ä¸»è¦å‚è€ƒæ–‡æ¡£ å…¥é—¨SVGæ˜¯ä¸€ç§XMLè¯­è¨€çš„ï¼Œå’ŒXHTMLå¾ˆåƒï¼Œå®ƒå¯ä»¥ç”¨æ¥ç»˜åˆ¶çŸ¢é‡å›¾å½¢ï¼Œä¾‹å¦‚å³é¢å±•ç¤ºçš„å›¾å½¢ã€‚SVGå¯ä»¥é€šè¿‡å®šä¹‰å¿…è¦çš„çº¿å’Œå½¢çŠ¶æ¥åˆ›å»ºä¸€ä¸ªå›¾å½¢ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹å·²æœ‰çš„ä½å›¾ï¼Œæˆ–è€…å°†è¿™ä¸¤ç§æ–¹å¼ç»“åˆèµ·æ¥åˆ›å»ºå›¾å½¢ã€‚å›¾å½¢å’Œå…¶ç»„æˆéƒ¨åˆ†å¯ä»¥å½¢å˜ï¼ˆbe transformedï¼‰ã€åˆæˆã€æˆ–è€…é€šè¿‡æ»¤é•œå®Œå…¨æ”¹å˜å¤–è§‚ã€‚ æ‰€æœ‰çš„ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒSVG, ä½†æ˜¯å„ç§SVGæµè§ˆå™¨æ˜¯æœ‰å·®å¼‚çš„, å¯èƒ½ä¼šå‡ºç°æ˜¾ç¤ºæ–¹é¢çš„é—®é¢˜. æœ€æ¥è¿‘çš„â€œå®Œæ•´ç‰ˆâ€SVGç‰ˆæœ¬æ˜¯1.1ç‰ˆ, SVG 2.0æ­£åœ¨åˆ¶å®šå½“ä¸­. ä¸€ä¸ªç®€å•çš„ä¾‹å­ä¸‹é¢æ˜¯ä¸€æ®µxmlä»£ç , æ–‡ä»¶åæ˜¯ **.svg , ä½†ä¹Ÿå¯ä»¥ä½¿ç”¨ **.xml , åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€éƒ½ä¼šæ˜¾ç¤ºsvgå›¾ç‰‡.åœ¨æœåŠ¡å™¨æ”¯æŒgzipæ—¶, ä¹Ÿå¯ä»¥ç”¨ **.svgz å‘½åå¹¶å‹ç¼©å¤§å‹SVGæ–‡ä»¶123456789101112&lt;svg version=\"2\" baseProfile=\"full\" width=\"300\" height=\"200\" xmlns=\"http://www.w3.org/2000/svg\"&gt; &lt;rect width=\"100%\" height=\"100%\" fill=\"red\" /&gt; &lt;circle cx=\"150\" cy=\"100\" r=\"80\" fill=\"green\" /&gt; &lt;text x=\"150\" y=\"125\" font-size=\"60\" text-anchor=\"middle\" fill=\"white\"&gt;æ±‰å­—&lt;/text&gt;&lt;/svg&gt; æœåŠ¡å™¨é…ç½®é”™è¯¯æ˜¯svgæ–‡ä»¶å‡ºé”™çš„å¸¸è§åŸå› , å®¹æ˜“å‡ºç°æ–‡æœ¬å’Œä¹±ç , ä¸€å®šè¦åŠªåŠ›ä¿è¯åœ¨è¯¥ç¯èŠ‚æ²¡æœ‰é—®é¢˜. åæ ‡å®šä½SVGé‡‡ç”¨å¸¸è§çš„Canvasåæ ‡å®šä½, ä»é«˜åˆ°ä½ä»å·¦åˆ°å³, å•ä½è·ç¦»ä¸º1px å®šä¹‰ä¸€ä¸ª100*100çš„çŸ©å½¢1234567&lt;svg version=\"2\" baseProfile=\"full\" xmlns=\"http://www.w3.org/2000/svg\"&gt; &lt;rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" /&gt;&lt;/svg&gt;å°±ä¼šå‡ºç°ä¸€ä¸ªå¤§é»‘å— åƒç´ å¤§å°é€šå¸¸ 1px ä¾¿æ˜¯ç”¨æˆ·å±å¹•çš„1ä¸ªåƒç´ , å’ŒCSSä¸€æ ·, SVGä¹Ÿèƒ½å®šä¹‰ç›¸å¯¹å¤§å°å’Œç»å¯¹å¤§å°.åœ¨SVGæ ¹å…ƒç´ ä¸­, å¯ä»¥å¦‚ä¸‹å®šä¹‰1&lt;svg width=\"50\" height=\"50\" viewBox=\"0 0 100 100\" &gt;å®šä¹‰ç”»å¸ƒå°ºå¯¸ä¸º50*50px, æ˜¾ç¤ºçš„åæ ‡èŒƒå›´100*100px, å®ç°äº†ç¼©å°ä¸€åŠçš„æ•ˆæœ. å’ŒQtç±»ä¼¼, ç”¨æˆ·è®¾å¤‡å’Œå•ä½åƒç´ çš„æ˜ å°„å…³ç³»å«ç”¨æˆ·åæ ‡ç³»ç»Ÿ, ç¼©æ”¾ã€æ—‹è½¬ã€å€¾æ–œã€ç¿»è½¬ç­‰åŠŸèƒ½å‡å¯å®ç°. åŸºæœ¬å½¢çŠ¶ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„åŸºæœ¬å½¢çŠ¶, æˆ‘ä»¬å¯ä»¥ç›´æ¥è¿ç”¨ä»–ä»¬æˆ–è€…ç”¨ä»–ä»¬æ„å»ºå‡ºæ›´å¤æ‚çš„å½¢çŠ¶. åˆ†åˆ«æ˜¯ çŸ©å½¢, åœ†è§’çŸ©å½¢, åœ†, æ¤­åœ†, ç›´çº¿, æŠ˜çº¿, å¤šè¾¹å½¢, æ›²çº¿ çŸ©å½¢ åœ†è§’çŸ©å½¢12&lt;rect x=\"10\" y=\"10\" width=\"30\" height=\"30\" stroke=\"black\" fill=\"transparent\" stroke-width=\"5\"/&gt;&lt;rect x=\"60\" y=\"10\" rx=\"10\" ry=\"10\" width=\"30\" height=\"30\" stroke=\"black\" fill=\"transparent\" stroke-width=\"5\"/&gt; å‚æ•°: å·¦ä¸Šè§’çš„x,yåæ ‡ é•¿åº¦ å®½åº¦ rx ryåœ†è§’åŠå¾„ åœ† æ¤­åœ†12&lt;circle cx=\"25\" cy=\"75\" r=\"20\" stroke=\"red\" fill=\"transparent\" stroke-width=\"5\"/&gt;&lt;ellipse cx=\"75\" cy=\"75\" rx=\"20\" ry=\"5\" stroke=\"red\" fill=\"transparent\" stroke-width=\"5\"/&gt; å‚æ•°: cx cyä¸­å¿ƒåæ ‡ råŠå¾„ rx xæ–¹å‘åŠè½´ ry yæ–¹å‘åŠè½´ æ¤­åœ†çš„å‚æ•°è¿˜æŒºéš¾å—çš„, ä¸è¿‡ä¸­å¿ƒç‚¹ä¹Ÿè¿˜è¡Œ çº¿ æŠ˜çº¿ å¤šè¾¹å½¢12345&lt;line x1=\"10\" x2=\"50\" y1=\"110\" y2=\"150\" stroke=\"orange\" fill=\"transparent\" stroke-width=\"5\"/&gt;&lt;polyline points=\"60 110 65 120 70 115 75 130 80 125 85 140 90 135 95 150 100 145\" stroke=\"orange\" fill=\"transparent\" stroke-width=\"5\"/&gt;&lt;polygon points=\"50 160 55 180 70 180 60 190 65 205 50 195 35 205 40 190 30 180 45 180\" stroke=\"green\" fill=\"transparent\" stroke-width=\"5\"/&gt; å‚æ•°: x yèµ·ç‚¹ç»ˆç‚¹åæ ‡ pointsç‚¹é›† xi yi å¤šè¾¹å½¢å’ŒæŠ˜çº¿ä¸åŒçš„æ˜¯, å¤šè¾¹å½¢æœ€ç»ˆå›åˆ°åŸç‚¹, æŠ˜çº¿è½åœ¨æœ€åä¸€ç‚¹. ç‚¹é›†ä¸­æ¯ä¸ªæ•°å­—ç”¨ç©ºç™½ç¬¦ã€é€—å·ã€ç»ˆæ­¢å‘½ä»¤æˆ–è€…æ¢è¡Œç¬¦åˆ†éš”å¼€, æ¯ä¸ªç‚¹å¿…é¡»åŒ…å«2ä¸ªæ•°å­— è·¯å¾„1&lt;path d=\"M20,230 Q40,205 50,230 T90,230\" fill=\"none\" stroke=\"blue\" stroke-width=\"5\"/&gt; å‚æ•°: dä¸€ä¸ªç‚¹é›†æ•°åˆ—è·¯å¾„å‡ ä¹æ˜¯ä¸‡èƒ½çš„, ä¹Ÿæ˜¯æœ€å¸¸è§çš„, å¯ä»¥ç”¨æ¥ç»˜åˆ¶ä¸€åˆ‡çº¿æ¡. è·¯å¾„ä½œå›¾è¯¦è§£pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§då®šä¹‰çš„ï¼Œå±æ€§dçš„å€¼æ˜¯ä¸€ä¸ªâ€œå‘½ä»¤+å‚æ•°â€çš„åºåˆ—. ç¼©å†™ æ„ä¹‰ å¤‡æ³¨ å½“å‰ç‚¹åæ ‡($x_0$,$y_0$) M x y ç”»ç¬”ç§»åŠ¨åˆ°ç‚¹($x,y$) ç§»åŠ¨ä¸äº§ç”Ÿç¬”è¿¹ L x y ç”»($x_0$,$y_0$)åˆ°ç‚¹($x$,$y$)çš„çº¿æ®µ H x ç”»($x_0$,$y_0$)åˆ°ç‚¹(x,$y_0$)çš„æ°´å¹³çº¿ V y ç”»($x_0$,$y_0$)åˆ°ç‚¹($x_0$,$y$)çš„å‚ç›´çº¿ Z/z ç”»($x_0$,$y_0$)åˆ°è·¯å¾„èµ·ç‚¹ æ— å‚æ•°,ä¸åŒºåˆ†å¤§å°å†™ C $x_1$ $y_1$, $x_2$ $y_2$, $x$ $y$ ä¸‰æ¬¡è´å¡å°”æ›²çº¿ å¯¹åº”ç‚¹ $P_0 $ $x_0,y_0$ / $P_1 $ $x_1,y_1$ / $P_2$ $x_2,y_2$ / $P_3$ $x,y$ S $x_2$ $y_2$, $x$ $y$ ç®€åŒ–çš„å¤šä¸ªä¸‰æ¬¡è´å¡å°”æ›²çº¿ æ¯ä¸ªæ›²çº¿çš„$P_1$æ§åˆ¶ç‚¹å’Œå‰ä¸€æ›²çº¿$P_2$å¯¹ç§°, å¯çœ(è“ç‚¹) Q $x_1$ $y_1$, $x$ $y$ äºŒæ¬¡è´å¡å°”æ›²çº¿ ç±»ä¼¼ä¸‰æ¬¡â€¦ T $x$ $y$ ç®€åŒ–çš„å¤šä¸ªäºŒæ¬¡è´å¡å°”æ›²çº¿ A $rx ry x-axis-rotation$ $large-arc-flag sweep-flag x y$ å¼§å½¢å‘½ä»¤ $rx$ xæ–¹å‘åŠè½´$ry$ yæ–¹å‘åŠè½´ $x-axis-rotation$ å…³äºxè½´æ—‹è½¬è§’åº¦$large-arc-flag$ 0åŠ£å¼§ 1ä¼˜å¼§$sweep-flag$èµ·ç‚¹åˆ°ç»ˆç‚¹ 0é€†æ—¶é’ˆå¼§ 1é¡ºæ—¶é’ˆå¼§$x,y$ç»ˆç‚¹ m, l, v, h, z, c, s, q, t, a $dx_i dy_i$ å°å†™æ˜¯å¤§å†™çš„ç®€åŒ–, åªéœ€è¦åæ ‡å˜åŒ–é‡å³å¯ ä¾¿æ·ä½†å¯è¯»æ€§ä¸å¼º æ¯æ¬¡ä½¿ç”¨pathå‰, éƒ½éœ€è¦ä½¿ç”¨Mç§»åŠ¨åˆ°å…·ä½“ä½ç½® è´å¡å°”æ›²çº¿å¹¿æ³›åº”ç”¨äºè®¡ç®—æœºå¹³æ»‘æ›²çº¿åˆ¶ä½œ, åŒ…æ‹¬ .ttf å­—ä½“è®¾è®¡.ä¸‰æ¬¡è´å¡å°”æ›²çº¿å‚æ•°å½¢å¼: \\mathbf{B}(t)=\\mathbf{P}_{0}(1-t)^{3}+3 \\mathbf{P}_{1} t(1-t)^{2}+3 \\mathbf{P}_{2} t^{2}(1-t)+\\mathbf{P}_{3} t^{3}, t \\in[0,1]è´å¡å°”æ›²çº¿ä¸€èˆ¬å‚æ•°å½¢å¼: \\mathbf{B}(t)=\\sum_{i=0}^{n}\\left(\\begin{array}{l}n \\\\ i\\end{array}\\right) \\mathbf{P}_{i}(1-t)^{n-i} t^{i}, t \\in[0,1] ä»¥çŸ¥ä¸¤ç‚¹å’Œæ¤­åœ†é•¿çŸ­åŠè½´å’Œæ—‹è½¬è§’åº¦é€šå¸¸å¯ä»¥ç”»å››æ¡å¼§, Aä¸­çš„å‚æ•°å°±æ˜¯ä¸ºäº†ç¡®å®šæ˜¯å“ªä¸€æ¡å¼§. zåªèƒ½åœ¨ä¸€ä¸ªpathå‘½ä»¤ä¸­ä½¿ç”¨,å³ä¸€ç¬”ç”» ä¸€äº›ä¾‹å­æˆ‘ç”¨ä¸Šé¢çš„æ‰€æœ‰pathè¯­æ³•, ä¹±ç”»ä¸€é€š, å¦‚ä¸‹1234567891011121314&lt;?xml version=\"1.1\" standalone=\"no\"?&gt;&lt;svg width=\"200px\" height=\"200px\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"&gt; &lt;path d=\"M10 10 L 20 100\" stroke=\"black\" fill=\"transparent\"/&gt; &lt;path d=\"M20 100 V 5 \" stroke=\"green\" fill=\"transparent\"/&gt; &lt;path d=\"M20 5 H 60 \" stroke=\"orange\" fill=\"transparent\"/&gt; &lt;path d=\"M60 5 C 30 20, 30 60, 65 100 \" stroke=\"purple\" fill=\"transparent\"/&gt; &lt;path d=\"M65 100 S 100 140, 20 160 \" stroke=\"red\" fill=\"transparent\"/&gt; &lt;path d=\"M20 160 Q 70 180, 80 160 \" stroke=\"blue\" fill=\"transparent\"/&gt; &lt;path d=\"M80 160 T 130 170 \" stroke=\"yellow\" fill=\"transparent\"/&gt; &lt;path d=\"M130 170 A 30 60 0 0 0 170 50 \" stroke=\"brown\" fill=\"transparent\"/&gt; &lt;path d=\"M10 10 L170 50 \" stroke=\"pink\" fill=\"transparent\"/&gt; &lt;/svg&gt;ç»“æœå¦‚ä¸‹: Fill å’Œ Stroke å±æ€§fillå’Œstrokeåˆ†åˆ«å¯¹åº”å¡«å……é¢œè‰²å’Œçº¿æ¡é¢œè‰². æ­¤å¤–è¿˜æœ‰å¾ˆå¤šä»–ä»¬çš„å»¶ç”³å±æ€§. ç€è‰²ç”»ä¸€ä¸ªçº¢è¾¹è“åº•çš„çŸ©å½¢æ¡†**-opacityä»£è¡¨é€æ˜åº¦è®¾ç½®, é¢œè‰²å‘½åæ–¹æ¡ˆæ”¯æŒCSSé¢œè‰²å‘½åæ–¹æ¡ˆ, å³é¢œè‰²åï¼ˆå¦‚redï¼‰ã€rgbå€¼ï¼ˆå¦‚rgb(255,0,0)ï¼‰ã€åå…­è¿›åˆ¶å€¼ã€rgbaå€¼12&lt;rect x=\"10\" y=\"10\" height=\"50\" width=\"50\" stroke=\"rgb(255,0,0)\" fill=\"#0000FF\" fill-opacity=\"0.3\" stroke-opacity=\"0.8\" /&gt; æè¾¹stroke-width çº¿å®½stroke-linecap æè¾¹æ–¹å¼ä¸‰ç§: æ— æè¾¹, æ–¹å½¢æè¾¹, åœ†è§’æè¾¹123&lt;line x1=\"20\" x2=\"70\" y1=\"80\" y2=\"80\" stroke=\"black\" stroke-width=\"6\" stroke-linecap=\"butt\"/&gt;&lt;line x1=\"20\" x2=\"70\" y1=\"100\" y2=\"100\" stroke=\"rgb(255,255,255)\" stroke-width=\"8\" stroke-linecap=\"square\"/&gt;&lt;line x1=\"20\" x2=\"70\" y1=\"120\" y2=\"120\" stroke=\"#FFFFFF\" stroke-width=\"10\" stroke-linecap=\"round\"/&gt;è¿˜æœ‰, stroke-linejoinå±æ€§æ§åˆ¶æŠ˜çº¿æŠ˜è§’é£æ ¼| å€¼ | æ•ˆæœ || :â€”â€”-: | :â€”â€”â€”â€”â€”-: || miter | å°–è§’æ— ä¿®é¥° || round | åœ†è§’, åœ†æ¶¦ || bevel | æ–œè§’,åˆ‡å»å°–è§’ | stroke-dasharrayç”¨äºç”»è™šçº¿, æ¥ $n_1,n_2â€¦n_i$, åˆ†åˆ«ä»£è¡¨ $n_i$px ä¸ªå¡«å……æˆ–ç©ºç™½, å¾ªç¯ç€è‰².1234&lt;path d=\"M 10 75 Q 50 10 100 75 T 190 75\" stroke=\"black\" stroke-linecap=\"round\" stroke-dasharray=\"5,10,5\" fill=\"none\"/&gt;&lt;path d=\"M 10 75 L 190 75\" stroke=\"red\" stroke-linecap=\"round\" stroke-width=\"1\" stroke-dasharray=\"5,5\" fill=\"none\"/&gt;è¿˜æœ‰ä¸€äº›å…¶ä»–å¸¸è§çš„ä¿®é¥°å±æ€§, æŸ¥é˜…å‚è€ƒæ–‡æ¡£. ä½¿ç”¨CSSå¯ä»¥åƒåœ¨Htmlä¸­ä¸€æ ·ä½¿ç”¨CSS, æœ‰äº›åœ°æ–¹éœ€è¦æ›´æ¢ä¸€ä¸‹å±æ€§åå­—. ä½†æ˜¯æ ¹æ®SVGçš„è§„èŒƒ, properties å¯ä»¥ç”¨CSSè®¾ç½®, attributesåˆ™ä¸å¯ä»¥. ç›´æ¥åœ¨å…ƒç´ è¡Œé—´è®¾ç½®å±æ€§1&lt;rect x=\"10\" height=\"180\" y=\"10\" width=\"180\" style=\"stroke: red; stroke-width: 5; fill: blue;\"/&gt; è®¾ç½®æ ·å¼æ®µè½åˆ©ç”¨&lt;style&gt;è®¾ç½®ä¸€æ®µæ ·å¼æ®µè½, åœ¨htmlé‡Œè¿™æ ·çš„&lt;style&gt;ä¸€èˆ¬æ”¾åœ¨&lt;head&gt;é‡Œï¼Œåœ¨svgé‡Œ&lt;style&gt;åˆ™æ”¾åœ¨&lt;defs&gt;æ ‡ç­¾é‡Œ12345678910&lt;defs&gt; &lt;style type=\"text/css\"&gt;&lt;![CDATA[ #MyRect &#123; stroke: green; stroke-width: 7; fill: yellow; &#125; ]]&gt;&lt;/style&gt;&lt;/defs&gt;&lt;rect x=\"10\" height=\"180\" y=\"10\" width=\"180\" id=\"MyRect\"/&gt; å®šä¹‰å¤–éƒ¨æ ·å¼è¡¨è¦æ±‚ç¬¦åˆnormal XML-stylesheet syntaxçš„è§„åˆ™. å¯ä»¥åœ¨SVGä¸­è¿ç”¨.æœ€å¥½å­¦ä¸€ç‚¹CSSçš„çŸ¥è¯†, è·å¾—æ›´å¥½çš„è¡¨ç°èƒ½åŠ›. æ­¤å¤–ä¸€äº›CSSå¯èƒ½åœ¨SVGä¸­æ— æ³•æ­£å¸¸å·¥ä½œ. æ¸å˜æ¸å˜æ˜¯å¾ˆå¤šå¾ˆé…·çš„æ˜¾ç¤ºæ•ˆæœçš„åŸºç¡€åŠŸèƒ½, ä¸€èˆ¬æœ‰çº¿æ€§æ¸å˜å’Œå¾„å‘æ¸å˜.æˆ‘ä»¬ä¸€èˆ¬å°†æ¸å˜å®šä¹‰åœ¨&lt;defs&gt;ä¸­, å¹¶ç”¨ä¸€ä¸ªidå±æ€§æŒ‡ä»£å®ƒä»¬, æ–¹ä¾¿å¤ç”¨. çº¿æ€§æ¸å˜ å¾„å‘æ¸å˜ è¾ƒä¸ºå¤æ‚ä¸”è´¹åŠ›, è¿™ä¼šæ˜¯ä¸€ä¸ªå¾ˆæœ‰å¸®åŠ©çš„å‚è€ƒ, å¿…è¦æ—¶å­¦ä¹ å¹¶ä½¿ç”¨.https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Gradients å›¾æ¡ˆå›¾æ¡ˆå¯ä»¥ä¹‹å‰å­¦è¿‡çš„ä»»æ„å›¾å½¢æ¥å®ç°å¯¹ç”»å¸ƒçš„å¡«å……. ä¸€ä¸ªå¤©è“è‰²çŸ©å½¢, ä¸€ä¸ªè¾¹é•¿æ˜¯å‰è€…ä¸€åŠå¤§å°çš„çº¢è‰²çŸ©å½¢, ä¸€ä¸ªåŠé€æ˜çš„åœ†, ç»„æˆäº†æœ€åŸºæœ¬çš„å›¾æ¡ˆå•å…ƒ.123456789101112131415161718192021222324252627282930313233343536&lt;?xml version=\"1.0\" standalone=\"no\"?&gt;&lt;svg width=\"750\" height=\"200\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"&gt; &lt;defs&gt; &lt;linearGradient id=\"Gradient1\"&gt; &lt;stop offset=\"5%\" stop-color=\"white\"/&gt; &lt;stop offset=\"95%\" stop-color=\"blue\"/&gt; &lt;/linearGradient&gt; &lt;linearGradient id=\"Gradient2\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\"&gt; &lt;stop offset=\"5%\" stop-color=\"red\"/&gt; &lt;stop offset=\"95%\" stop-color=\"orange\"/&gt; &lt;/linearGradient&gt; &lt;pattern id=\"Pattern\" x=\"0\" y=\"0\" width=\".25\" height=\".25\"&gt; &lt;rect x=\"0\" y=\"0\" width=\"50\" height=\"50\" fill=\"skyblue\"/&gt; &lt;rect x=\"0\" y=\"0\" width=\"25\" height=\"25\" fill=\"url(#Gradient2)\"/&gt; &lt;circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"url(#Gradient1)\" fill-opacity=\"0.5\"/&gt; &lt;/pattern&gt; &lt;pattern id=\"Pattern1\" width=\".25\" height=\".25\" patternContentUnits=\"objectBoundingBox\"&gt; &lt;rect x=\"0\" y=\"0\" width=\".25\" height=\".25\" fill=\"skyblue\"/&gt; &lt;rect x=\"0\" y=\"0\" width=\".125\" height=\".125\" fill=\"url(#Gradient2)\"/&gt; &lt;circle cx=\".125\" cy=\".125\" r=\".1\" fill=\"url(#Gradient1)\" fill-opacity=\"0.5\"/&gt; &lt;/pattern&gt; &lt;pattern id=\"Pattern2\" x=\"10\" y=\"10\" width=\"50\" height=\"50\" patternUnits=\"userSpaceOnUse\"&gt; &lt;rect x=\"0\" y=\"0\" width=\"50\" height=\"50\" fill=\"skyblue\"/&gt; &lt;rect x=\"0\" y=\"0\" width=\"25\" height=\"25\" fill=\"url(#Gradient2)\"/&gt; &lt;circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"url(#Gradient1)\" fill-opacity=\"0.5\"/&gt; &lt;/pattern&gt; &lt;/defs&gt; &lt;rect fill=\"url(#Pattern)\" stroke=\"black\" x=\"0\" y=\"0\" width=\"250\" height=\"200\"/&gt; &lt;rect fill=\"url(#Pattern1)\" stroke=\"black\" x=\"250\" y=\"0\" width=\"250\" height=\"200\"/&gt; &lt;rect fill=\"url(#Pattern2)\" stroke=\"black\" x=\"500\" y=\"0\" width=\"250\" height=\"200\"/&gt;&lt;/svg&gt; Patternæ³¨æ„åˆ°width=&quot;.25&quot; height=&quot;.25&quot;, 44å¡«å……, *ä¸ä¼šæ‹‰ä¼¸, ä¸å¤Ÿçš„åœ°æ–¹æ˜¯ç©ºç™½. Pattern1ä½¿ç”¨patternContentUnits, é»˜è®¤å€¼ä¸ºuserSpaceOnUse, å½“è®¾ç½®å…¶å€¼ä¸ºobjectBoundingBox, å°†ä¸å†ä½¿ç”¨Patternæœ¬èº«çš„åæ ‡è€Œæ˜¯ä½¿ç”¨ç”»å¸ƒçš„åæ ‡ç³»ç»Ÿ, éœ€è¦è®¡ç®—å®½å’Œé«˜çš„æ¯”ä¾‹ 0~1, å¯ä»¥äº§ç”Ÿæ‹‰ä¼¸æ•ˆæœ. Pattern2å±æ€§patternUnits, é»˜è®¤å€¼ä¸ºobjectBoundingBox, å½“è®¾ç½®å…¶å€¼ä¸ºuserSpaceOnUse, å¯ä»¥åŠ å…¥x=&quot;10&quot; y=&quot;10&quot;è®¾ç½®Patternçš„åç§»é‡, ä¹Ÿå¯ä»¥å†™æˆx=&quot;1/30&quot; y=&quot;0.05&quot;. 10/300=1/30 10/200=0.05. å¯ä»¥äº§ç”Ÿå¹³ç§»æ•ˆæœ. æ–‡å­—SVGèƒ½æ˜¾ç¤ºä¸€åˆ‡å­—ç¬¦, æ‹¥æœ‰ä¸°å¯Œçš„æ ¼å¼ä¿®é¥° &lt;text&gt;å…ƒç´ ç”¨æ¥æ”¾æ–‡å­—, å¯ä»¥æŒ‡å®šä½ç½®, å­—å·, å¯¹é½, å¡«å……, æè¾¹text-anchoræœ‰startã€middleã€endæˆ–inheritå‡ ç§å€¼å¯é€‰.12345678910&lt;svg version=\"1.1\" baseProfile=\"full\" width=\"600\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\"&gt; &lt;rect width=\"100%\" height=\"100%\" fill=\"red\" /&gt; &lt;text id=\"example\" x=\"350\" y=\"50\" font-size=\"30\" text-anchor=\"middle\" stroke=\"green\" fill=\"yellow\"&gt;â‚°æ±‰å­—â…EnglishğŸŒŠÏ€ğŸ¦¾ &lt;tspan font-weight=\"bold\" fill=\"red\"&gt; bold and red&lt;/tspan&gt; &lt;/text&gt; &lt;path id=\"my_path\" d=\"M 20,20 C 40,40 80,40 100,20\" /&gt; &lt;text&gt; &lt;textPath xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#my_path\"&gt;This text follows a curve.&lt;/textPath&gt; &lt;/text&gt;&lt;/svg&gt; å¸¸è§çš„å±æ€§åŒ…æ‹¬font-familyã€font-styleã€font-weightã€font-variantã€font-stretchã€font-sizeã€font-size-adjustã€kerningã€letter-spacingã€word-spacingå’Œtext-decorationå¯ä»¥è¢«è®¾ç½®ä¸ºä¸€ä¸ªSVGå±æ€§æˆ–è€…æˆä¸ºä¸€ä¸ªCSSå£°æ˜ ä¸€äº›ç‰¹åˆ«çš„å…ƒç´  tspanè¯¥å…ƒç´ ç”¨æ¥æ ‡è®°å¤§å—æ–‡æœ¬çš„å­éƒ¨åˆ†ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªtextå…ƒç´ æˆ–åˆ«çš„tspanå…ƒç´ çš„å­å…ƒç´ ã€‚å®ƒçš„ä¸€äº›å±æ€§å¯ä»¥é‡æ–°å®šä¹‰æ–‡å­—ä½ç½®, æ—‹è½¬æ–‡å­—, å®šä¹‰æ–‡æœ¬é•¿åº¦ trefå¼•ç”¨å·²ç»å®šä¹‰çš„æ–‡æœ¬ï¼Œé«˜æ•ˆåœ°æŠŠå®ƒå¤åˆ¶åˆ°å½“å‰ä½ç½®(è²Œä¼¼æ²¡ç”¨) textPathåˆ©ç”¨å®ƒçš„xlink:hrefå±æ€§å–å¾—ä¸€ä¸ªä»»æ„è·¯å¾„ï¼ŒæŠŠå­—ç¬¦å¯¹é½åˆ°è·¯å¾„ åŸºç¡€å˜å½¢åŒ…æ‹¬å¹³ç§», æ—‹è½¬, æ–œåˆ‡, ç¼©æ”¾ç­‰åŸºæœ¬çš„å›¾å½¢å˜æ¢. å¹³ç§»translate(dx,dy)1&lt;rect x=\"0\" y=\"0\" width=\"10\" height=\"10\" transform=\"translate(30,40)\" /&gt; æ—‹è½¬rotate(Î±)æŒ‰è§’åº¦è®¡ç®—1&lt;rect x=\"20\" y=\"20\" width=\"20\" height=\"20\" transform=\"rotate(45)\" /&gt; æ–œåˆ‡skewX(Î±), skewY(Î¸)è§’åº¦ç¡®å®šå…ƒç´ æ–œåˆ‡åˆ°å“ªé‡Œ ç¼©æ”¾scale(x%, y%)è§„å®šç¼©æ”¾çš„æ¯”ä¾‹, é€šå¸¸ç”¨å°æ•°, yè½´çš„æ¯”ä¾‹å¯ä»¥çœç•¥ å‰ªè£å’Œé®ç½©https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Clipping_and_masking æ’å…¥å›¾ç‰‡ä¸ºäº†è¡¨è¾¾å¯¹å°è¢çš„æ€å¿µ, åœ¨å¥¹é¢å‰åšäº†è¿™ä¸ªå›¾,12345678910&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"&gt;&lt;svg version=\"1.1\" standalone=\"no\" width=\"900\" height=\"600\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink= \"http://www.w3.org/1999/xlink\"&gt; &lt;rect width=\"100%\" height=\"100%\" fill=\"purple\" /&gt; &lt;text x=\"450\" y=\"100\" font-size=\"40\" text-anchor=\"middle\" fill=\"white\"&gt;æˆ‘çˆ±å°è¢&lt;/text&gt; &lt;image xlink:href=\"https://cdn.jsdelivr.net/gh/18wang/media/xy.jpg\" x=\"250\" y=\"200\" height=\"400\" /&gt;&lt;/svg&gt; ç‚¹å‡»è¿™é‡Œ, å›¾ç‰‡å¯èƒ½åŠ è½½ä¸å…¨ ä¸€ä¸ªxlink:hrefå±æ€§å¼•ç”¨äº†ä¸€ä¸ªå°†å‘ˆç°åœ¨SVGå¯¹è±¡ä¸­çš„.jpgå›¾åƒ, æ³¨æ„è¦åŒ…å«xmlns:xlink= &quot;http://www.w3.org/1999/xlinkæ‰è¡Œ, å¦åˆ™ä¼šå‡ºé”™.è¿˜æœ‰ä¸€äº›æ³¨æ„ç‚¹: å¦‚æœä½ æ²¡æœ‰è®¾ç½®xå±æ€§æˆ–yå±æ€§ï¼Œå®ƒä»¬è‡ªåŠ¨è¢«è®¾ç½®ä¸º0ã€‚ å¦‚æœä½ æ²¡æœ‰è®¾ç½®heightå±æ€§æˆ–widthå±æ€§ï¼Œå®ƒä»¬è‡ªåŠ¨è¢«è®¾ç½®ä¸º0ã€‚ å¦‚æœwidthå±æ€§æˆ–heightç­‰äº0ï¼Œå°†ä¸ä¼šå‘ˆç°è¿™ä¸ªå›¾åƒã€‚ å›¾ç‰‡å¯ä»¥æ˜¯æ¥è‡ªæ–‡ä»¶æˆ–è€…ç½‘é¡µ(åªè¦æœ‰ç½‘å…¨ä¸–ç•Œéƒ½å¯ä»¥çœ‹åˆ°è¯¥å›¾ç‰‡)","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2020-03-22T03:06:34.642Z","updated":"2020-03-19T13:40:05.717Z","comments":true,"path":"2020/03/22/hello-world/","link":"","permalink":"https://github.com/18wang/2020/03/22/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post 1$ hexo new \"My New Post\" More info: Writing Run server 1$ hexo server More info: Server Generate static files 1$ hexo generate More info: Generating Deploy to remote sites 1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}