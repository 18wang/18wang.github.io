<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>pdf添加页码</title>
      <link href="/2020/06/21/pdf%E6%B7%BB%E5%8A%A0%E9%A1%B5%E7%A0%81/"/>
      <url>/2020/06/21/pdf%E6%B7%BB%E5%8A%A0%E9%A1%B5%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h1 id="给PDF文件添加页码"><a class="header-anchor" href="#给PDF文件添加页码"></a>给PDF文件添加页码</h1><p>有些扫描的, 或者本身没有添加页码的pdf文件, 很长, 也没有书签目录可以跳转, 尽管很多pdf编辑器可以手动添加目录, 但仍然不符合效率的原则.</p><p>当然, 我们可以写程序实现, 在需要编辑的pdf样本比较少的情况下, 小工具也可以很有用.</p><p><strong><a href="https://www.jianshu.com/p/9683e7094871" target="_blank" rel="noopener">这篇博客</a>给我提供了很大的帮助.</strong></p><ol><li><p>下载&quot;老马&quot;自己写的<strong>PdgCntEditor</strong></p><p>博客地址:<br><a href="https://www.cnblogs.com/stronghorse/" target="_blank" rel="noopener">https://www.cnblogs.com/stronghorse/</a></p><p>最新软件下载地址：</p><p>链接：<a href="https://pan.baidu.com/s/1BC0JTOACnfePv8LokD5GCg" target="_blank" rel="noopener">https://pan.baidu.com/s/1BC0JTOACnfePv8LokD5GCg</a><br>提取码：tyor</p><p>English version:</p><p><a href="http://www.mediafire.com/folder/f0z2hexqdnr9a/Software" target="_blank" rel="noopener">http://www.mediafire.com/folder/f0z2hexqdnr9a/Software</a></p></li><li><p>从京东, 亚马逊, 图书内容等等渠道, 获得文件目录.<br>最好复制到excel里面, 分两栏, 序号标题一栏, 页码一栏(两栏之间天然用制表符Tab分开)</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pdf%E6%B7%BB%E5%8A%A0%E9%A1%B5%E7%A0%81/1.png" alt=""></p><ol start="3"><li>运行PdgCntEditor.exe, 打开 ***.pdf, 将目录粘贴到空白处, 选中目录.<ul><li>自动缩进</li><li>设定基准页, 即目录中P1对应的实际PDF页数.</li><li>保存文件</li></ul></li></ol><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pdf%E6%B7%BB%E5%8A%A0%E9%A1%B5%E7%A0%81/2.png" alt=""></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>蒲宇琦考研成绩排名估算</title>
      <link href="/2020/05/10/%E8%92%B2%E5%AE%87%E7%90%A6%E8%80%83%E7%A0%94%E6%88%90%E7%BB%A9%E6%8E%92%E5%90%8D%E4%BC%B0%E7%AE%97/"/>
      <url>/2020/05/10/%E8%92%B2%E5%AE%87%E7%90%A6%E8%80%83%E7%A0%94%E6%88%90%E7%BB%A9%E6%8E%92%E5%90%8D%E4%BC%B0%E7%AE%97/</url>
      
        <content type="html"><![CDATA[<h2 id="研究蒲宇琦成绩排名-结合研究生考试的成绩分布情况"><a class="header-anchor" href="#研究蒲宇琦成绩排名-结合研究生考试的成绩分布情况"></a>研究蒲宇琦成绩排名_结合研究生考试的成绩分布情况</h2><p>尝试应用一两个具体的例子</p><ul><li>中南财经政法大学的例子表明, 样本太少异常难受</li><li>江苏2018年高考的例子表明, 十分接近正态分布(因为缺乏完整数据, 难以直接估算)</li><li>调整蒲宇琦西南交大的数据, 还是较为准确地刻画了整个考生的成绩分布.</li></ul><p>结果:<br>分数线 349.6126342475794<br>均分 317.4427612973726<br>他的成绩 356.62492204051085<br>成绩排名 130.84695647606708</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">sample = np.random.normal(loc=<span class="number">10</span> ,size=<span class="number">1000</span>)   </span><br><span class="line"></span><br><span class="line">plt.hist(sample)    <span class="comment"># 用正态分布练一下 PDF 图像</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pyq/output_1_0.svg" alt="svg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">sample = np.random.normal(loc=<span class="number">10</span> ,size=<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">hist, bin_edges = np.histogram(sample)      <span class="comment"># CDF 画法</span></span><br><span class="line">cdf = np.cumsum(hist)</span><br><span class="line">plt.plot(cdf)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pyq/output_2_0.svg" alt="svg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""网上找了一个例子, 太难了, 样本数量过小"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 中南财经政法大学 统计与数学学院2020年硕士研究生入学考试初试成绩分数段公告</span></span><br><span class="line"><span class="comment"># http://tsxy.zuel.edu.cn/2020/0417/c4801a240926/page.htm</span></span><br><span class="line"></span><br><span class="line">rawZN = <span class="string">"""['400分以上,395分以上390分以上385分以上380分以上375分以上370分以上365分以上360分以上355分以上350分以上345分以上']</span></span><br><span class="line"><span class="string">[[245101515171921262933</span></span><br><span class="line"><span class="string">2466812141923293946</span></span><br><span class="line"><span class="string">28385573103135167209243275311344]]"""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式上进行一些处理</span></span><br><span class="line">rawZN = rawZN.replace(<span class="string">"\t"</span>, <span class="string">","</span>)                </span><br><span class="line">titleZN, dataZN = rawZN.split(<span class="string">"\n"</span>,maxsplit=<span class="number">1</span>)</span><br><span class="line">titleZN = titleZN.replace(<span class="string">","</span>, <span class="string">"\',\'"</span>)</span><br><span class="line">dataZN = dataZN.replace(<span class="string">"\n"</span>, <span class="string">"],["</span>)</span><br><span class="line"></span><br><span class="line">titleZN = eval(titleZN)</span><br><span class="line">dataZN =  eval(dataZN)</span><br><span class="line"></span><br><span class="line">dataZN = np.array(dataZN)</span><br><span class="line">print(dataZN)</span><br><span class="line"></span><br><span class="line">pureZN = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dataZN:</span><br><span class="line">    i[<span class="number">1</span>:] -= i[:<span class="number">-1</span>].copy()</span><br><span class="line">    pureZN.append(i)</span><br><span class="line"></span><br><span class="line">pureZN = np.array(pureZN)</span><br><span class="line">print(pureZN)</span><br><span class="line"></span><br><span class="line">t = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> pureZN:</span><br><span class="line">    plt.subplot(eval(<span class="string">'31'</span>+str(t)))</span><br><span class="line">    t += <span class="number">1</span></span><br><span class="line">    <span class="comment"># hist, bin_edges = np.histogram(i)</span></span><br><span class="line">    plt.plot(i)</span><br><span class="line">    plt.xticks(range(len(titleZN))[::<span class="number">3</span>], titleZN[::<span class="number">3</span>])  <span class="comment">## 可以设置坐标字</span></span><br><span class="line"><span class="comment"># hist, bin_edges = np.histogram(sample)</span></span><br><span class="line"><span class="comment"># cdf = np.cumsum(hist)</span></span><br><span class="line"><span class="comment"># plt.plot(cdf)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>]=[<span class="string">'SimHei'</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>]=<span class="literal">False</span> <span class="comment">#用来正常显示负号</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>[[  2   4   5  10  15  15  17  19  21  26  29  33] [  2   4   6   6   8  12  14  19  23  29  39  46] [ 28  38  55  73 103 135 167 209 243 275 311 344]][[ 2  2  1  5  5  0  2  2  2  5  3  4] [ 2  2  2  0  2  4  2  5  4  6 10  7] [28 10 17 18 30 32 32 42 34 32 36 33]]</code></pre><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pyq/output_3_1.svg" alt="svg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 江苏：2018年普通高考文理科逐分段统计表 理科部分</span></span><br><span class="line"><span class="comment"># https://gaokao.chsi.com.cn/gkxx/zc/ss/201806/20180624/1699971659.html</span></span><br><span class="line"></span><br><span class="line">rawJS = <span class="string">"""[106,129,153,176,206,244,294,349,403,481,554,632,729,824,941,1073,1212,1374,1532,1701,1905,2155,2410,2673,2977,3300,3640,4011,4417,4851,5337,5826,6386,6970,7558,8196,8894,9624,10397,11188,12010,12927,13878,14865,15908,16949,18069,19224,20426,21662,22956,24259,25683,27082,28578,30126,31696,33251,34844,36532,38197,39968,41732,43537,45377,47223,49066,50899,52843,54809,56818,58853,60827,62874,64881,66887,68883,70894,72878,74876,76939,78846,80785,82746,84717,86691,88640,90569,92470,94303,96130,97984,99833,101621,103400,105171,106842,108538,110109,111659,113259,114858,116332,117807,119232,120592,121985,123348,124643,125898,127159,128392,129577,130768,131884,133003,134133,135180,136221,137206,138195,139160,140082,141006,141853,142718,143558,144384,145131,145856,146562,147204,147854,148486,149146,149786,150353]"""</span></span><br><span class="line">titleJS = <span class="string">"""['411','410','409','408','407','406','405','404','403','402','401','400','399','398','397','396','395','394','393','392','391','390','389','388','387','386','385','384','383','382','381','380','379','378','377','376','375','374','373','372','371','370','369','368','367','366','365','364','363','362','361','360','359','358','357','356','355','354','353','352','351','350','349','348','347','346','345','344','343','342','341','340','339','338','337','336','335','334','333','332','331','330','329','328','327','326','325','324','323','322','321','320','319','318','317','316','315','314','313','312','311','310','309','308','307','306','305','304','303','302','301','300','299','298','297','296','295','294','293','292','291','290','289','288','287','286','285','284','283','282','281','280','279','278','277','276','275']"""</span></span><br><span class="line">rawJS = np.array(eval(rawJS))</span><br><span class="line">titleJS = eval(titleJS)</span><br><span class="line">titleJS = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> titleJS]</span><br><span class="line"></span><br><span class="line">total = rawJS[<span class="number">-1</span>]       <span class="comment"># 总人数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rawJS[<span class="number">1</span>:] -= rawJS[:<span class="number">-1</span>].copy()</span><br><span class="line"></span><br><span class="line">plt.figure(<span class="number">1</span>)</span><br><span class="line">plt.plot(rawJS/total)           <span class="comment"># 画PDF</span></span><br><span class="line">plt.xticks(range(len(titleJS))[::<span class="number">5</span>], titleJS[::<span class="number">5</span>])  <span class="comment">## 可以设置坐标字</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>]=[<span class="string">'SimHei'</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>]=<span class="literal">False</span> <span class="comment">#用来正常显示负号</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sample = np.random.choice(titleJS, p=rawJS/total,size=<span class="number">10000</span>)</span><br><span class="line">meanJS = sample.mean()      <span class="comment"># 正态分布拟合</span></span><br><span class="line">delta = sample.std()</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scipy.stats</span><br><span class="line"></span><br><span class="line">p = scipy.stats.norm.pdf(titleJS, meanJS, delta)  <span class="comment"># 返回N(mu,sigma^2)的概率密度函数在 x 处的值</span></span><br><span class="line">plt.plot(p)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.figure(<span class="number">2</span>)</span><br><span class="line">cdfJS = rawJS.cumsum()      <span class="comment"># 画CDF</span></span><br><span class="line">plt.xticks(range(len(titleJS))[::<span class="number">5</span>], titleJS[::<span class="number">5</span>])  <span class="comment">## 可以设置坐标字</span></span><br><span class="line">plt.plot(cdfJS/total)</span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line">titleJS.sort()</span><br><span class="line">c = scipy.stats.norm.cdf(titleJS, meanJS, delta)</span><br><span class="line">plt.plot(c)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pyq/output_4_0.svg" alt="svg"></p><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pyq/output_4_1.svg" alt="svg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> scipy.stats</span><br><span class="line"></span><br><span class="line">num = <span class="number">1560</span></span><br><span class="line">stopR = <span class="number">204</span></span><br><span class="line">stopPointR = <span class="number">349</span> </span><br><span class="line">puR = <span class="number">356</span></span><br><span class="line">mean = <span class="number">318</span></span><br><span class="line">std = <span class="number">28</span></span><br><span class="line"></span><br><span class="line">sampleRan = np.random.normal(mean, std, <span class="number">155400</span>)</span><br><span class="line">sample = np.sort(sampleRan) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分数线</span></span><br><span class="line">stop = np.percentile(sample, <span class="number">100</span><span class="number">-100</span>*stopR/num)   <span class="comment"># percentile 返回百分位数对应的值</span></span><br><span class="line">print(<span class="string">'估计分数线'</span>, stop)</span><br><span class="line"><span class="comment"># 换算成蒲宇琦的分数</span></span><br><span class="line">meanR = stopPointR/stop*mean</span><br><span class="line">print(<span class="string">"实际均分"</span>,meanR) <span class="comment"># 实际 平均分</span></span><br><span class="line">pu = puR*mean/meanR</span><br><span class="line">print(pu)</span><br><span class="line"></span><br><span class="line">rank = scipy.stats.norm.cdf(pu, mean, std)</span><br><span class="line">print((<span class="number">1</span>-rank)*num)</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>]=[<span class="string">'SimHei'</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>]=<span class="literal">False</span> <span class="comment">#用来正常显示负号</span></span><br><span class="line"></span><br><span class="line">L = np.linspace(<span class="number">200</span>, <span class="number">430</span>, num=<span class="number">500</span>)</span><br><span class="line">Lpdf = scipy.stats.norm.pdf(L, meanR, std)</span><br><span class="line">plt.subplot(<span class="number">211</span>)</span><br><span class="line">plt.plot(L,Lpdf)</span><br><span class="line">plt.title(<span class="string">"成绩分布概率密度"</span>)</span><br><span class="line">plt.xlabel(<span class="string">"成绩"</span>)  <span class="comment"># x轴上的名字</span></span><br><span class="line">plt.ylabel(<span class="string">"概率密度"</span>)  <span class="comment"># y轴上的名字</span></span><br><span class="line"><span class="comment"># 画分数线</span></span><br><span class="line">point1 = [stop,scipy.stats.norm.pdf(stop, meanR, std)]</span><br><span class="line">plt.plot([point1[<span class="number">0</span>],point1[<span class="number">0</span>]],[point1[<span class="number">1</span>],<span class="number">0</span>],<span class="string">'r--'</span>,linewidth = <span class="number">2</span>)</span><br><span class="line">plt.annotate(<span class="string">'分数线'</span>, xy=point1)</span><br><span class="line"><span class="comment"># 画蒲宇琦</span></span><br><span class="line">point1 = [puR,scipy.stats.norm.pdf(pu, meanR, std)]</span><br><span class="line">plt.plot([point1[<span class="number">0</span>],point1[<span class="number">0</span>]],[point1[<span class="number">1</span>],<span class="number">0</span>],<span class="string">'g--'</span>,linewidth = <span class="number">1.5</span>)</span><br><span class="line">plt.annotate(<span class="string">'pyq'</span>, xy=point1)</span><br><span class="line">plt.xlim((L[<span class="number">0</span>],L[<span class="number">-1</span>]))</span><br><span class="line">plt.ylim((<span class="number">0</span>,<span class="number">0.015</span>))</span><br><span class="line">plt.xticks([int(i) <span class="keyword">for</span> i <span class="keyword">in</span> L[::<span class="number">20</span>]], [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> L[::<span class="number">20</span>]])  <span class="comment">## 可以设置坐标字</span></span><br><span class="line"></span><br><span class="line">Lcdf = scipy.stats.norm.cdf(L, meanR, std)</span><br><span class="line">plt.subplot(<span class="number">212</span>)</span><br><span class="line">plt.plot(L,Lcdf*num)</span><br><span class="line">plt.title(<span class="string">"成绩排名(累计分布)"</span>)</span><br><span class="line">plt.xticks([int(i) <span class="keyword">for</span> i <span class="keyword">in</span> L[::<span class="number">20</span>]], [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> L[::<span class="number">20</span>]])  <span class="comment">## 可以设置坐标字</span></span><br><span class="line">plt.yticks(range(num,<span class="number">0</span>,<span class="number">-1</span>)[::<span class="number">100</span>], [i <span class="keyword">for</span> i <span class="keyword">in</span> range(num)[::<span class="number">100</span>]])</span><br><span class="line">plt.xlabel(<span class="string">"成绩"</span>)  <span class="comment"># x轴上的名字</span></span><br><span class="line">plt.ylabel(<span class="string">"排名"</span>)  <span class="comment"># y轴上的名字</span></span><br><span class="line"><span class="comment"># 画分数线</span></span><br><span class="line">point1 = [stop,scipy.stats.norm.cdf(stop, meanR, std)*num]</span><br><span class="line">plt.plot([point1[<span class="number">0</span>],point1[<span class="number">0</span>],L[<span class="number">0</span>]],[<span class="number">0</span>,point1[<span class="number">1</span>],point1[<span class="number">1</span>]],<span class="string">'r--'</span>,linewidth = <span class="number">2</span>)</span><br><span class="line">plt.annotate(<span class="string">'分数线'</span>, xy=[point1[<span class="number">0</span>]<span class="number">-4</span>, point1[<span class="number">1</span>]<span class="number">-80</span>])</span><br><span class="line"><span class="comment"># 画蒲宇琦</span></span><br><span class="line">point1 = [puR,scipy.stats.norm.cdf(pu, meanR, std)*num]</span><br><span class="line">plt.plot([point1[<span class="number">0</span>],point1[<span class="number">0</span>],L[<span class="number">0</span>]],[<span class="number">0</span>,point1[<span class="number">1</span>],point1[<span class="number">1</span>]],<span class="string">'g--'</span>,linewidth = <span class="number">1.5</span>)</span><br><span class="line">plt.annotate(<span class="string">'pyq'</span>, xy=[point1[<span class="number">0</span>]+<span class="number">2</span>, point1[<span class="number">1</span>]<span class="number">-20</span>])</span><br><span class="line"></span><br><span class="line">plt.xlim((L[<span class="number">0</span>],L[<span class="number">-1</span>]))</span><br><span class="line">plt.ylim((<span class="number">0</span>,<span class="number">1.05</span>*num))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>估计分数线 349.6126342475794实际均分 317.4427612973726356.62492204051085130.84695647606708</code></pre><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/pyq/output_5_1.svg" alt="svg"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客添加Latex公式</title>
      <link href="/2020/04/02/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0Latex%E5%85%AC%E5%BC%8F/"/>
      <url>/2020/04/02/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0Latex%E5%85%AC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>注意点:</p><ul><li><p><a href="https://chenpt.cc/%E4%BD%BF%E7%94%A8mathjax%E6%9D%A5%E4%B9%A6%E5%86%99%E5%85%AC%E5%BC%8F/" target="_blank" rel="noopener">链接</a>对于使用https协议的静态网站来说，所使用的cdn地址需要显式地添加 https: //，修改config文件的cdn的地址之后，重新部署，发现一切正常<br><br><br><br></p></li><li><p><a href="https://www.jianshu.com/p/e8d433a2c5b7" target="_blank" rel="noopener">链接</a> 下文<br><html lang="en"><head></head><body class=""><br><p>在 hexo 中，你会发现我们不能用 <code>Latex</code> 语法来书写数学公式，这对于书写学术博客来说是很大的不便，因为我们会经常碰到很多的数学公式推导，但是我们可以通过安装第三方库来解决这一问题。</p><br><h2>第一步： 使用Kramed代替 Marked</h2><br><p><code>hexo</code> 默认的渲染引擎是 <code>marked</code>，但是 <code>marked</code> 不支持 <code>mathjax</code>。 <code>kramed</code> 是在 <code>marked</code> 的基础上进行修改。我们在工程目录下执行以下命令来安装 <code>kramed</code>.</p><br><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-undefined"><code class="  language-undefined">npm uninstall hexo-renderer-marked --savenpm install hexo-renderer-kramed --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><br><p>然后，更改&lt;your-project-dir&gt;/node_modules/hexo-renderer-kramed/lib/renderer.js，更改：</p><br><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-javascript"><code class="javascript  language-javascript"><span class="token comment">// Change inline math rule</span><span class="token keyword">function</span> <span class="token function">formatText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Fit kramed's rule: $$ + \1 + $$</span>  <span class="token keyword">return</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/`\$(.*?)\$`/g</span><span class="token punctuation">,</span> <span class="token string">'$$$$$1$$$$'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><p>为：</p><br><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-javascript"><code class="Javascript  language-javascript"><span class="token comment">// Change inline math rule</span><span class="token keyword">function</span> <span class="token function">formatText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> text<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><br><h2>第二步: 停止使用 hexo-math</h2><br><p>首先，如果你已经安装 <code>hexo-math</code>, 请卸载它：</p><br><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-nodejs"><code class="Nodejs  language-nodejs">npm uninstall hexo-math --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><br><p>然后安装 <a href="https://link.jianshu.com/?t=https://github.com/phoenixcw/hexo-renderer-mathjax" target="_blank" rel="nofollow">hexo-renderer-mathjax</a> 包：</p><br><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-npm"><code class="npm  language-npm">npm install hexo-renderer-mathjax --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><br><h2>第三步: 更新 Mathjax 的 CDN 链接</h2><br><p>首先，打开&lt;path-to-your-project&gt;/node_modules/hexo-renderer-mathjax/mathjax.html</p><br><p>然后，把<code>&lt;script&gt;</code>更改为：</p><br><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-xml"><code class="  language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script&lt;/span&gt; <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class=“token punctuation">"</span><a href="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" target="_blank" rel="noopener">https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML</a><span class=“token punctuation">"</span>&lt;/span&gt;<span class="token punctuation">&gt;</span>&lt;/span&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script&lt;/span&gt;<span class="token punctuation">&gt;</span>&lt;/span&gt;</p></li></ul><p><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></p><p><h2>第四步: 更改默认转义规则</h2></p><p><p>因为 <code>hexo</code> 默认的转义规则会将一些字符进行转义，比如 <code>_</code> 转为 <code>&lt;em&gt;</code>, 所以我们需要对默认的规则进行修改.<br>首先， 打开&lt;path-to-your-project/node_modules/kramed/lib/rules、inline.js,</p></p><p><p>然后，把:</p></p><p><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-javascript"><code class="Javascript  language-javascript">escape<span class="token punctuation">:</span> <span class="token regex">/^\\([\\`*{}\[\]()#$+\-.!_&gt;])/</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></p><p><p>更改为:</p></p><p><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-javascript"><code class="Javascript  language-javascript">escape<span class="token punctuation">:</span> <span class="token regex">/^\\([`*\[\]()# +\-.!_&gt;])/</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></p><p><p>把</p></p><p><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-javascript"><code class="Javascript  language-javascript">em<span class="token punctuation">:</span> <span class="token regex">/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></p><p><p>更改为:</p></p><p><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-javascript"><code class="Javascript  language-javascript">em<span class="token punctuation">:</span> <span class="token regex">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></p><p><h2>第五步: 开启mathjax</h2></p><p><p>在主题 <code>_config.yml</code> 中开启 Mathjax， 找到 <code>mathjax</code> 字段添加如下代码：</p></p><p><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-yml"><code class="yml  language-yml"><span class="token key atrule">mathjax</span><span class="token punctuation">:</span>    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></p><p><p>这一步可选，在博客中开启 <code>Mathjax</code>，， 添加以下内容：</p></p><p><div class="_2Uzcx_"><button class="VJbwyy" type="button" aria-label="复制代码"><i aria-label="icon: copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" class="" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></i></button><pre class="line-numbers  language-markdown"><code class="Markdown  language-markdown"><span class="token hr punctuation">---</span>title: Testing Mathjax with Hexocategory: Uncategorizeddate: 2017/05/03<span class="token title important">mathjax: true<span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></p><p><p>通过以上步骤，我们就可以在 <code>hexo</code> 中使用 <code>Mathjax</code> 来书写数学公式。</p></p><iframe id="google_esf" name="google_esf" src="https://googleads.g.doubleclick.net/pagead/html/r20200331/r20190131/zrt_lookup.html#" data-ad-client="ca-pub-3077285224019295" style="display: none;"></iframe>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SVG</title>
      <link href="/2020/04/02/SVG/"/>
      <url>/2020/04/02/SVG/</url>
      
        <content type="html"><![CDATA[<h1 id="SVG-学习"><a href="#SVG-学习" class="headerlink" title="SVG 学习"></a>SVG 学习</h1><p>主要教程网站<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial" target="_blank" rel="noopener">mozilla developer</a><br>主要记录我的一些草稿和学习内容.<br><br>SVG的主要<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG" target="_blank" rel="noopener">参考文档</a></p><h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><p>SVG是一种XML语言的，和XHTML很像，它可以用来绘制矢量图形，例如右面展示的图形。SVG可以通过<u>定义必要的线和形状</u>来创建一个图形，也可以<u>修改已有的位图</u>，或者将这两种方式<u>结合起来</u>创建图形。图形和其组成部分可以形变（be transformed）、合成、或者通过滤镜完全改变外观。</p><p>所有的现代浏览器都支持SVG, 但是各种SVG浏览器是有差异的, 可能会出现显示方面的问题. 最接近的“完整版”SVG版本是1.1版, SVG 2.0正在制定当中.</p><h3 id="一个简单的例子"><a href="#一个简单的例子" class="headerlink" title="一个简单的例子"></a>一个简单的例子</h3><p>下面是一段<code>xml</code>代码, 文件名是 <code>**.svg</code> , 但也可以使用 <code>**.xml</code> , 在浏览器中打开都会显示svg图片.<br><em>在服务器支持gzip时, 也可以用 <code>**.svgz</code> 命名并压缩大型SVG文件</em><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"2"</span>    </span></span><br><span class="line"><span class="tag">     <span class="attr">baseProfile</span>=<span class="string">"full"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">width</span>=<span class="string">"300"</span> <span class="attr">height</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">fill</span>=<span class="string">"red"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"150"</span> <span class="attr">cy</span>=<span class="string">"100"</span> <span class="attr">r</span>=<span class="string">"80"</span> <span class="attr">fill</span>=<span class="string">"green"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">x</span>=<span class="string">"150"</span> <span class="attr">y</span>=<span class="string">"125"</span> <span class="attr">font-size</span>=<span class="string">"60"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">fill</span>=<span class="string">"white"</span>&gt;</span>汉字<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><br><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-1.svg" alt=""></p><p>服务器配置错误是svg文件出错的常见原因, 容易出现文本和乱码, 一定要努力保证在该环节没有问题.</p><h2 id="坐标定位"><a href="#坐标定位" class="headerlink" title="坐标定位"></a>坐标定位</h2><p>SVG采用常见的Canvas坐标定位, 从高到低从左到右, 单位距离为1px</p><center><img src="https://media.prod.mdn.mozit.cloud/attachments/2012/07/09/224/70658d72d2408295cdfba55e6cd5fcc8/Canvas_default_grid.png" width = 150 > </center><p>定义一个<code>100*100</code>的矩形<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"2"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">baseProfile</span>=<span class="string">"full"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"100"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><br>就会出现一个大黑块<br><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-2.svg" alt=""></p><h3 id="像素大小"><a href="#像素大小" class="headerlink" title="像素大小"></a>像素大小</h3><p>通常 <code>1px</code> 便是用户屏幕的1个像素, 和CSS一样, SVG也能定义相对大小和绝对大小.<br>在SVG根元素中, 可以如下定义<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 100 100"</span> &gt;</span></span><br></pre></td></tr></table></figure><br>定义画布尺寸为<code>50*50px</code>, 显示的坐标范围<code>100*100px</code>, 实现了缩小一半的效果.</p><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-3.svg" alt=""></p><p>和Qt类似, 用户设备和单位像素的映射关系叫<u><strong><em>用户坐标系统</em></strong></u>, <code>缩放、旋转、倾斜、翻转</code>等功能均可实现. </p><h2 id="基本形状"><a href="#基本形状" class="headerlink" title="基本形状"></a>基本形状</h2><p>下面是一些常见的基本形状, 我们可以直接运用他们或者用他们构建出更复杂的形状.</p><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-4.svg" alt=""></p><p>分别是 <code>矩形, 圆角矩形, 圆, 椭圆, 直线, 折线, 多边形, 曲线</code></p><h3 id="矩形-圆角矩形"><a href="#矩形-圆角矩形" class="headerlink" title="矩形 圆角矩形"></a>矩形 圆角矩形</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"10"</span> <span class="attr">width</span>=<span class="string">"30"</span> <span class="attr">height</span>=<span class="string">"30"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"60"</span> <span class="attr">y</span>=<span class="string">"10"</span> <span class="attr">rx</span>=<span class="string">"10"</span> <span class="attr">ry</span>=<span class="string">"10"</span> <span class="attr">width</span>=<span class="string">"30"</span> <span class="attr">height</span>=<span class="string">"30"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>参数: <code>左上角的x,y坐标 长度 宽度 rx ry圆角半径</code></p><h3 id="圆-椭圆"><a href="#圆-椭圆" class="headerlink" title="圆 椭圆"></a>圆 椭圆</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"25"</span> <span class="attr">cy</span>=<span class="string">"75"</span> <span class="attr">r</span>=<span class="string">"20"</span> <span class="attr">stroke</span>=<span class="string">"red"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ellipse</span> <span class="attr">cx</span>=<span class="string">"75"</span> <span class="attr">cy</span>=<span class="string">"75"</span> <span class="attr">rx</span>=<span class="string">"20"</span> <span class="attr">ry</span>=<span class="string">"5"</span> <span class="attr">stroke</span>=<span class="string">"red"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>参数: <code>cx cy中心坐标 r半径 rx x方向半轴 ry y方向半轴</code>  </p><ul><li>椭圆的参数还挺难受的, 不过中心点也还行</li></ul><h3 id="线-折线-多边形"><a href="#线-折线-多边形" class="headerlink" title="线 折线 多边形"></a>线 折线 多边形</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">line</span> <span class="attr">x1</span>=<span class="string">"10"</span> <span class="attr">x2</span>=<span class="string">"50"</span> <span class="attr">y1</span>=<span class="string">"110"</span> <span class="attr">y2</span>=<span class="string">"150"</span> <span class="attr">stroke</span>=<span class="string">"orange"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">polyline</span> <span class="attr">points</span>=<span class="string">"60 110 65 120 70 115 75 130 80 125 85 140 90 135 95 150 100 145"</span> <span class="attr">stroke</span>=<span class="string">"orange"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">polygon</span> <span class="attr">points</span>=<span class="string">"50 160 55 180 70 180 60 190 65 205 50 195 35 205 40 190 30 180 45 180"</span> <span class="attr">stroke</span>=<span class="string">"green"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>参数: <code>x y起点终点坐标 points点集 xi yi</code></p><ul><li>多边形和折线不同的是, 多边形最终回到原点, 折线落在最后一点.</li><li>点集中每个数字用<strong>空白符、逗号、终止命令或者换行符</strong>分隔开, 每个点必须包含2个数字</li></ul><h3 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M20,230 Q40,205 50,230 T90,230"</span> <span class="attr">fill</span>=<span class="string">"none"</span> <span class="attr">stroke</span>=<span class="string">"blue"</span> <span class="attr">stroke-width</span>=<span class="string">"5"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>参数: <code>d一个点集数列</code><br>路径几乎是万能的, 也是最常见的, 可以用来绘制一切线条.</p><h2 id="路径作图详解"><a href="#路径作图详解" class="headerlink" title="路径作图详解"></a>路径作图详解</h2><p>path元素的形状是通过属性<code>d</code>定义的，属性<code>d</code>的值是一个“命令+参数”的序列.</p><div class="table-container"><table><thead><tr><th style="text-align:center">缩写</th><th style="text-align:center">意义</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:center"></td><td style="text-align:center">当前点坐标($x_0$,$y_0$)</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">M x y</td><td style="text-align:center">画笔移动到点($x,y$)</td><td style="text-align:center">移动不产生笔迹</td></tr><tr><td style="text-align:center">L x y</td><td style="text-align:center">画($x_0$,$y_0$)到点($x$,$y$)的线段</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">H x</td><td style="text-align:center">画($x_0$,$y_0$)到点(x,$y_0$)的水平线</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">V y</td><td style="text-align:center">画($x_0$,$y_0$)到点($x_0$,$y$)的垂直线</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">Z/z</td><td style="text-align:center">画($x_0$,$y_0$)到路径起点</td><td style="text-align:center">无参数,不区分大小写</td></tr><tr><td style="text-align:center">C $x_1$ $y_1$, $x_2$ $y_2$, $x$ $y$</td><td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/Bézier_3_big.gif" width="70%"> <br>三次贝塞尔曲线</td><td style="text-align:center">对应点 $P_0 $ $x_0,y_0$ / $P_1 $ $x_1,y_1$ / $P_2$ $x_2,y_2$ / $P_3$ $x,y$</td></tr><tr><td style="text-align:center">S  $x_2$ $y_2$, $x$ $y$</td><td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/ShortCut_Cubic_Bezier.png" width="36%">  <br> 简化的多个三次贝塞尔曲线</td><td style="text-align:center">每个曲线的$P_1$控制点和前一曲线$P_2$对称, 可省(蓝点)</td></tr><tr><td style="text-align:center">Q $x_1$ $y_1$, $x$ $y$</td><td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/Bézier_2_big.gif" width="70%"> <br> 二次贝塞尔曲线</td><td style="text-align:center">类似三次…</td></tr><tr><td style="text-align:center">T $x$ $y$</td><td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/Shortcut_Quadratic_Bezier.png" width="40%"> <br>简化的多个二次贝塞尔曲线</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">A $rx  ry x-axis-rotation$<br> $large-arc-flag sweep-flag x y$</td><td style="text-align:center"><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/SVGArcs_Flags.png" width="80%"><br>弧形命令</td><td style="text-align:center">$rx$ x方向半轴<br>$ry$ y方向半轴<br> $x-axis-rotation$ 关于x轴旋转角度<br>$large-arc-flag$ 0劣弧 1优弧<br>$sweep-flag$起点到终点 0逆时针弧 1顺时针弧<br>$x,y$终点</td></tr><tr><td style="text-align:center">m, l, v, h, z, c, s, q, t, a $dx_i  dy_i$</td><td style="text-align:center">小写是大写的简化, 只需要坐标变化量即可</td><td style="text-align:center">便捷但可读性不强</td></tr></tbody></table></div><ol><li><strong><em>每次使用path前, 都需要使用<code>M</code>移动到具体位置</em></strong></li><li><p>贝塞尔曲线广泛应用于计算机平滑曲线制作, 包括 .ttf 字体设计.<br>三次贝塞尔曲线参数形式: </p><script type="math/tex; mode=display">\mathbf{B}(t)=\mathbf{P}_{0}(1-t)^{3}+3 \mathbf{P}_{1} t(1-t)^{2}+3 \mathbf{P}_{2} t^{2}(1-t)+\mathbf{P}_{3} t^{3}, t \in[0,1]</script><p>贝塞尔曲线一般参数形式:  </p><script type="math/tex; mode=display">\mathbf{B}(t)=\sum_{i=0}^{n}\left(\begin{array}{l}n \\ i\end{array}\right) \mathbf{P}_{i}(1-t)^{n-i} t^{i}, t \in[0,1]</script></li><li><p>以知两点和椭圆长短半轴和旋转角度通常可以画<strong>四条弧</strong>, <code>A</code>中的参数就是为了确定是哪一条弧.</p><center><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/SVGArcs_XAxisRotation_with_grid_ellipses.png" width="30%"></center></li><li><p><code>z</code>只能在一个path命令中使用,即一笔画 </p></li></ol><h3 id="一些例子"><a href="#一些例子" class="headerlink" title="一些例子"></a>一些例子</h3><p>我用上面的所有path语法, 乱画一通, 如下<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.1" standalone="no"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"200px"</span> <span class="attr">height</span>=<span class="string">"200px"</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M10 10 L 20 100"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M20 100 V 5 "</span> <span class="attr">stroke</span>=<span class="string">"green"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M20 5 H 60 "</span> <span class="attr">stroke</span>=<span class="string">"orange"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M60 5 C 30 20, 30 60, 65 100 "</span> <span class="attr">stroke</span>=<span class="string">"purple"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M65 100 S 100 140, 20 160 "</span> <span class="attr">stroke</span>=<span class="string">"red"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M20 160 Q 70 180, 80 160 "</span> <span class="attr">stroke</span>=<span class="string">"blue"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M80 160 T 130 170 "</span> <span class="attr">stroke</span>=<span class="string">"yellow"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M130 170 A 30 60 0 0 0 170 50 "</span> <span class="attr">stroke</span>=<span class="string">"brown"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M10 10 L170 50  "</span> <span class="attr">stroke</span>=<span class="string">"pink"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span>/&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><br>结果如下:</p><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-5.svg" alt=""></p><h2 id="Fill-和-Stroke-属性"><a href="#Fill-和-Stroke-属性" class="headerlink" title="Fill 和 Stroke 属性"></a>Fill 和 Stroke 属性</h2><p><code>fill</code>和<code>stroke</code>分别对应填充颜色和线条颜色. 此外还有很多他们的延申属性.</p><h3 id="着色"><a href="#着色" class="headerlink" title="着色"></a>着色</h3><p>画一个红边蓝底的矩形框<br><code>**-opacity</code>代表透明度设置, 颜色命名方案支持CSS颜色命名方案, 即颜色名（如red）、rgb值（如rgb(255,0,0)）、十六进制值、rgba值<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"10"</span> <span class="attr">height</span>=<span class="string">"50"</span> <span class="attr">width</span>=<span class="string">"50"</span> <span class="attr">stroke</span>=<span class="string">"rgb(255,0,0)"</span> <span class="attr">fill</span>=<span class="string">"#0000FF"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">fill-opacity</span>=<span class="string">"0.3"</span> <span class="attr">stroke-opacity</span>=<span class="string">"0.8"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="描边"><a href="#描边" class="headerlink" title="描边"></a>描边</h3><p><code>stroke-width</code> 线宽<br><code>stroke-linecap</code> 描边方式三种: 无描边, 方形描边, 圆角描边<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">line</span> <span class="attr">x1</span>=<span class="string">"20"</span> <span class="attr">x2</span>=<span class="string">"70"</span> <span class="attr">y1</span>=<span class="string">"80"</span> <span class="attr">y2</span>=<span class="string">"80"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">stroke-width</span>=<span class="string">"6"</span> <span class="attr">stroke-linecap</span>=<span class="string">"butt"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">line</span> <span class="attr">x1</span>=<span class="string">"20"</span> <span class="attr">x2</span>=<span class="string">"70"</span> <span class="attr">y1</span>=<span class="string">"100"</span> <span class="attr">y2</span>=<span class="string">"100"</span> <span class="attr">stroke</span>=<span class="string">"rgb(255,255,255)"</span> <span class="attr">stroke-width</span>=<span class="string">"8"</span> <span class="attr">stroke-linecap</span>=<span class="string">"square"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">line</span> <span class="attr">x1</span>=<span class="string">"20"</span> <span class="attr">x2</span>=<span class="string">"70"</span> <span class="attr">y1</span>=<span class="string">"120"</span> <span class="attr">y2</span>=<span class="string">"120"</span> <span class="attr">stroke</span>=<span class="string">"#FFFFFF"</span> <span class="attr">stroke-width</span>=<span class="string">"10"</span> <span class="attr">stroke-linecap</span>=<span class="string">"round"</span>/&gt;</span></span><br></pre></td></tr></table></figure><br>还有, <code>stroke-linejoin</code>属性控制折线折角风格<br>|  值   |     效果      |<br>| :——-: | :—————-: |<br>| miter |  尖角无修饰   |<br>| round |  圆角, 圆润   |<br>| bevel | 斜角,切去尖角 |</p><p><code>stroke-dasharray</code>用于画虚线, 接 $n_1,n_2…n_i$, 分别代表 $n_i$px 个填充或空白, 循环着色.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M 10 75 Q 50 10 100 75 T 190 75"</span> <span class="attr">stroke</span>=<span class="string">"black"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">stroke-linecap</span>=<span class="string">"round"</span> <span class="attr">stroke-dasharray</span>=<span class="string">"5,10,5"</span> <span class="attr">fill</span>=<span class="string">"none"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M 10 75 L 190 75"</span> <span class="attr">stroke</span>=<span class="string">"red"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">stroke-linecap</span>=<span class="string">"round"</span> <span class="attr">stroke-width</span>=<span class="string">"1"</span> <span class="attr">stroke-dasharray</span>=<span class="string">"5,5"</span> <span class="attr">fill</span>=<span class="string">"none"</span>/&gt;</span></span><br></pre></td></tr></table></figure><br>还有一些其他常见的修饰属性, 查阅<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute" target="_blank" rel="noopener">参考文档</a>.</p><h3 id="使用CSS"><a href="#使用CSS" class="headerlink" title="使用CSS"></a>使用CSS</h3><p>可以像在Html中一样使用CSS, 有些地方需要更换一下属性名字. 但是根据SVG的规范, <a href="https://www.w3.org/TR/SVG/propidx.html" target="_blank" rel="noopener">properties</a> 可以用CSS设置, <a href="https://www.w3.org/TR/SVG/attindex.html" target="_blank" rel="noopener">attributes</a>则不可以.</p><ol><li>直接在元素行间设置属性<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">height</span>=<span class="string">"180"</span> <span class="attr">y</span>=<span class="string">"10"</span> <span class="attr">width</span>=<span class="string">"180"</span> <span class="attr">style</span>=<span class="string">"stroke: red; stroke-width: 5; fill: blue;"</span>/&gt;</span></span><br></pre></td></tr></table></figure></li><li>设置样式段落<br>利用<code>&lt;style&gt;</code>设置一段样式段落, 在html里这样的<code>&lt;style&gt;</code>一般放在<code>&lt;head&gt;</code>里，<strong>在svg里<code>&lt;style&gt;</code>则放在<code>&lt;defs&gt;</code>标签里</strong><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span>&lt;![CDATA[</span><br><span class="line"><span class="css">    <span class="selector-id">#MyRect</span> &#123;</span></span><br><span class="line">      stroke: green;</span><br><span class="line">      stroke-width: 7;</span><br><span class="line">      fill: yellow;</span><br><span class="line">    &#125;</span><br><span class="line">  ]]&gt;<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">height</span>=<span class="string">"180"</span> <span class="attr">y</span>=<span class="string">"10"</span> <span class="attr">width</span>=<span class="string">"180"</span> <span class="attr">id</span>=<span class="string">"MyRect"</span>/&gt;</span></span><br></pre></td></tr></table></figure><ol><li>定义外部样式表<br>要求符合<a href="http://www.w3.org/TR/xml-stylesheet/" target="_blank" rel="noopener">normal XML-stylesheet syntax</a>的规则. 可以在SVG中运用.<br><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-7.svg" ><br>最好学一点CSS的知识, 获得更好的表现能力. 此外一些CSS可能在SVG中无法正常工作.</li></ol></li></ol><h2 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h2><p>渐变是很多很酷的显示效果的基础功能, 一般有<code>线性渐变</code>和<code>径向渐变</code>.<br>我们一般将渐变定义在<code>&lt;defs&gt;</code>中, 并用一个<code>id属性</code>指代它们, 方便复用.   </p><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/SVG_Linear_Gradient_Example.png"></p><p>线性渐变    </p><p><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/SVG_Radial_Gradient_Example.png"></p><p>径向渐变</p><p>较为复杂且费力, 这会是一个很有帮助的参考, 必要时学习并使用.<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Gradients" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Gradients</a></p><h2 id="图案"><a href="#图案" class="headerlink" title="图案"></a>图案</h2><p>图案可以之前学过的任意图形来实现对画布的填充.</p><p><strong>一个天蓝色矩形, 一个边长是前者一半大小的红色矩形, 一个半透明的圆</strong>, 组成了最基本的图案单元.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" standalone="no"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"750"</span> <span class="attr">height</span>=<span class="string">"200"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">version</span>=<span class="string">"1.1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">linearGradient</span> <span class="attr">id</span>=<span class="string">"Gradient1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"5%"</span> <span class="attr">stop-color</span>=<span class="string">"white"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"95%"</span> <span class="attr">stop-color</span>=<span class="string">"blue"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">linearGradient</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">linearGradient</span> <span class="attr">id</span>=<span class="string">"Gradient2"</span> <span class="attr">x1</span>=<span class="string">"0"</span> <span class="attr">x2</span>=<span class="string">"0"</span> <span class="attr">y1</span>=<span class="string">"0"</span> <span class="attr">y2</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"5%"</span> <span class="attr">stop-color</span>=<span class="string">"red"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"95%"</span> <span class="attr">stop-color</span>=<span class="string">"orange"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">linearGradient</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">"Pattern"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">".25"</span> <span class="attr">height</span>=<span class="string">".25"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span> <span class="attr">fill</span>=<span class="string">"skyblue"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"25"</span> <span class="attr">height</span>=<span class="string">"25"</span> <span class="attr">fill</span>=<span class="string">"url(#Gradient2)"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"25"</span> <span class="attr">cy</span>=<span class="string">"25"</span> <span class="attr">r</span>=<span class="string">"20"</span> <span class="attr">fill</span>=<span class="string">"url(#Gradient1)"</span> <span class="attr">fill-opacity</span>=<span class="string">"0.5"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">"Pattern1"</span> <span class="attr">width</span>=<span class="string">".25"</span> <span class="attr">height</span>=<span class="string">".25"</span> <span class="attr">patternContentUnits</span>=<span class="string">"objectBoundingBox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">".25"</span> <span class="attr">height</span>=<span class="string">".25"</span> <span class="attr">fill</span>=<span class="string">"skyblue"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">".125"</span> <span class="attr">height</span>=<span class="string">".125"</span> <span class="attr">fill</span>=<span class="string">"url(#Gradient2)"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">".125"</span> <span class="attr">cy</span>=<span class="string">".125"</span> <span class="attr">r</span>=<span class="string">".1"</span> <span class="attr">fill</span>=<span class="string">"url(#Gradient1)"</span> <span class="attr">fill-opacity</span>=<span class="string">"0.5"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">"Pattern2"</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"10"</span> <span class="attr">width</span>=<span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span> <span class="attr">patternUnits</span>=<span class="string">"userSpaceOnUse"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span> <span class="attr">fill</span>=<span class="string">"skyblue"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"25"</span> <span class="attr">height</span>=<span class="string">"25"</span> <span class="attr">fill</span>=<span class="string">"url(#Gradient2)"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"25"</span> <span class="attr">cy</span>=<span class="string">"25"</span> <span class="attr">r</span>=<span class="string">"20"</span> <span class="attr">fill</span>=<span class="string">"url(#Gradient1)"</span> <span class="attr">fill-opacity</span>=<span class="string">"0.5"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">fill</span>=<span class="string">"url(#Pattern)"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"250"</span> <span class="attr">height</span>=<span class="string">"200"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">fill</span>=<span class="string">"url(#Pattern1)"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">x</span>=<span class="string">"250"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"250"</span> <span class="attr">height</span>=<span class="string">"200"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">fill</span>=<span class="string">"url(#Pattern2)"</span> <span class="attr">stroke</span>=<span class="string">"black"</span> <span class="attr">x</span>=<span class="string">"500"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"250"</span> <span class="attr">height</span>=<span class="string">"200"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><br><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-8.svg" alt="">    </p><ol><li><p>Pattern<br>注意到<code>width=&quot;.25&quot; height=&quot;.25&quot;</code>, 4<em>4填充, <em>*不会拉伸</em></em>, 不够的地方是空白.</p></li><li><p>Pattern1<br>使用<code>patternContentUnits</code>, 默认值为<code>userSpaceOnUse</code>, 当设置其值为<code>objectBoundingBox</code>, 将不再使用Pattern本身的坐标而是使用画布的坐标系统, 需要计算宽和高的比例 <code>0~1</code>, 可以<strong>产生拉伸效果</strong>.</p></li><li><p>Pattern2<br>属性<code>patternUnits</code>, 默认值为<code>objectBoundingBox</code>, 当设置其值为<code>userSpaceOnUse</code>, 可以加入<code>x=&quot;10&quot; y=&quot;10&quot;</code>设置Pattern的偏移量, 也可以写成<code>x=&quot;1/30&quot; y=&quot;0.05&quot;</code>. 10/300=1/30 10/200=0.05. 可以<strong>产生平移效果</strong>.</p></li></ol><h2 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h2><p>SVG能显示一切字符, 拥有丰富的格式修饰</p><p><code>&lt;text&gt;</code>元素用来放文字, 可以指定<code>位置, 字号, 对齐, 填充, 描边</code><br><code>text-anchor</code>有start、middle、end或inherit几种值可选.<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">baseProfile</span>=<span class="string">"full"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"100"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">fill</span>=<span class="string">"red"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"example"</span> <span class="attr">x</span>=<span class="string">"350"</span> <span class="attr">y</span>=<span class="string">"50"</span> <span class="attr">font-size</span>=<span class="string">"30"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">stroke</span>=<span class="string">"green"</span> <span class="attr">fill</span>=<span class="string">"yellow"</span>&gt;</span>₰汉字⅝English🌊π🦾</span><br><span class="line">        <span class="tag">&lt;<span class="name">tspan</span> <span class="attr">font-weight</span>=<span class="string">"bold"</span> <span class="attr">fill</span>=<span class="string">"red"</span>&gt;</span> bold and red<span class="tag">&lt;/<span class="name">tspan</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">id</span>=<span class="string">"my_path"</span> <span class="attr">d</span>=<span class="string">"M 20,20 C 40,40 80,40 100,20"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textPath</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">xlink:href</span>=<span class="string">"#my_path"</span>&gt;</span>This text follows a curve.<span class="tag">&lt;/<span class="name">textPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><br><img src="https://cdn.jsdelivr.net/gh/18wang/media/svg_blog/svg-9.svg" alt=""></p><p>常见的属性包括<code>font-family、font-style、font-weight、font-variant、font-stretch、font-size、font-size-adjust、kerning、letter-spacing、word-spacing和text-decoration</code>可以被设置为<strong>一个SVG属性</strong>或者成为<strong>一个CSS声明</strong></p><h3 id="一些特别的元素"><a href="#一些特别的元素" class="headerlink" title="一些特别的元素"></a>一些特别的元素</h3><ol><li><p><code>tspan</code><br>该元素用来标记大块文本的子部分，它必须是一个text元素或别的tspan元素的子元素。<br>它的一些属性可以重新定义文字位置, 旋转文字, 定义文本长度</p></li><li><p><code>tref</code><br>引用已经定义的文本，高效地把它复制到当前位置(貌似没用)</p></li><li><p><code>textPath</code><br>利用它的<code>xlink:href</code>属性取得一个任意路径，把字符对齐到路径</p></li></ol><h2 id="基础变形"><a href="#基础变形" class="headerlink" title="基础变形"></a>基础变形</h2><p>包括<code>平移, 旋转, 斜切, 缩放</code>等基本的图形变换.</p><h3 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h3><p><code>translate(dx,dy)</code><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"10"</span> <span class="attr">height</span>=<span class="string">"10"</span> <span class="attr">transform</span>=<span class="string">"translate(30,40)"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h3><p><code>rotate(α)</code>按角度计算<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"20"</span> <span class="attr">y</span>=<span class="string">"20"</span> <span class="attr">width</span>=<span class="string">"20"</span> <span class="attr">height</span>=<span class="string">"20"</span> <span class="attr">transform</span>=<span class="string">"rotate(45)"</span> /&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="斜切"><a href="#斜切" class="headerlink" title="斜切"></a>斜切</h3><p><code>skewX(α), skewY(θ)</code>角度确定元素斜切到哪里</p><h3 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h3><p><code>scale(x%, y%)</code>规定缩放的比例, 通常用小数, y轴的比例可以省略</p><h2 id="剪裁和遮罩"><a href="#剪裁和遮罩" class="headerlink" title="剪裁和遮罩"></a>剪裁和遮罩</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Clipping_and_masking" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Clipping_and_masking</a></p><h2 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h2><p>为了表达对小袁的思念, 在她面前做了这个图,<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">svg</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//W3C//DTD SVG 1.1//EN"</span> </span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">standalone</span>=<span class="string">"no"</span> <span class="attr">width</span>=<span class="string">"900"</span> <span class="attr">height</span>=<span class="string">"600"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span>  <span class="attr">xmlns:xlink</span>= <span class="string">"http://www.w3.org/1999/xlink"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">fill</span>=<span class="string">"purple"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">x</span>=<span class="string">"450"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">font-size</span>=<span class="string">"40"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">fill</span>=<span class="string">"white"</span>&gt;</span>我爱小袁<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">image</span> <span class="attr">xlink:href</span>=<span class="string">"https://cdn.jsdelivr.net/gh/18wang/media/xy.jpg"</span> <span class="attr">x</span>=<span class="string">"250"</span> <span class="attr">y</span>=<span class="string">"200"</span> <span class="attr">height</span>=<span class="string">"400"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><br><img src="https://cdn.jsdelivr.net/gh/18wang/media/我爱小袁.svg" alt=""></p><p><a href="https://cdn.jsdelivr.net/gh/18wang/media/%E6%88%91%E7%88%B1%E5%B0%8F%E8%A2%81.svg" target="_blank" rel="noopener">点击这里, 图片可能加载不全</a></p><p>一个<code>xlink:href</code>属性引用了一个将呈现在SVG对象中的.jpg图像, 注意要包含<code>xmlns:xlink= &quot;http://www.w3.org/1999/xlink</code>才行, 否则会出错.<br>还有一些注意点:   </p><ul><li>如果你没有设置x属性或y属性，它们自动被设置为0。</li><li>如果你没有设置height属性或width属性，它们自动被设置为0。</li><li>如果width属性或height等于0，将不会呈现这个图像。</li><li>图片可以是来自文件或者网页(只要有网全世界都可以看到该图片)</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/03/22/hello-world/"/>
      <url>/2020/03/22/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a class="header-anchor" href="#Quick-Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a class="header-anchor" href="#Create-a-new-post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a class="header-anchor" href="#Run-server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a class="header-anchor" href="#Generate-static-files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a class="header-anchor" href="#Deploy-to-remote-sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
